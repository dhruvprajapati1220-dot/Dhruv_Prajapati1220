<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dhruv Prajapati | Mechanical Engineer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0e1a;
            --bg-secondary: #151a2b;
            --bg-card: #1a1f35;
            --text-primary: #e2e8f0;
            --text-secondary: #94a3b8;
            --accent: #3b82f6;
            --accent-hover: #2563eb;
            --border: #2d3548;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 14, 26, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            padding: 1rem 0;
        }

        nav .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        nav .logo {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent);
        }

        nav .nav-menu {
            list-style: none;
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        nav a {
            text-decoration: none;
            color: var(--text-secondary);
            font-weight: 500;
            transition: color 0.3s;
        }

        nav a:hover {
            color: var(--accent);
        }
        
        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            gap: 5px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px;
            z-index: 1001;
        }
        
        .mobile-menu-toggle span {
            width: 25px;
            height: 3px;
            background: var(--text-primary);
            transition: all 0.3s ease;
            border-radius: 2px;
        }
        
        .mobile-menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(8px, 8px);
        }
        
        .mobile-menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }
        
        .mobile-menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -7px);
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 8rem 2rem 4rem;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 50%, rgba(59, 130, 246, 0.1) 0%, transparent 50%);
        }

        .hero-content {
            max-width: 800px;
            text-align: center;
            position: relative;
            z-index: 1;
            animation: fadeInUp 1s ease;
        }

        .hero h1 {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #e2e8f0 0%, #94a3b8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero .subtitle {
            font-size: 1.5rem;
            color: var(--accent);
            margin-bottom: 1.5rem;
            font-weight: 600;
        }

        .hero .description {
            font-size: 1.1rem;
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 2rem;
            min-height: 120px;
        }

        /* Section */
        section {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        section h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
            text-align: center;
        }

        section .section-subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 3rem;
            text-align: center;
        }

        /* Projects Grid */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .project-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s, border-color 0.3s;
            cursor: pointer;
        }

        .project-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.2);
            border-color: var(--accent);
        }

        .project-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            background-color: #1a1f35;
        }

        .project-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background: #1a1f35;
        }

        .project-image.hvac { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .project-image.heatsink { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .project-image.catapult { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .project-image.matlab { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .project-image.cad { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .project-image.math { background: linear-gradient(135deg, #30cfd0 0%, #330867 100%); }

        .project-image::before {
            content: '';
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255,255,255,0.03) 10px,
                rgba(255,255,255,0.03) 20px
            );
        }

        .image-placeholder {
            text-align: center;
            color: white;
            z-index: 1;
        }

        .image-placeholder-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .image-placeholder-text {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .project-content {
            padding: 1.5rem;
        }

        .project-content h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .project-content p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 0.8rem;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .tag {
            background: rgba(59, 130, 246, 0.1);
            color: var(--accent);
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        /* Skills Grid */
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .skill-category {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2rem;
            transition: transform 0.3s, border-color 0.3s;
        }

        .skill-category:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
        }

        .skill-category h3 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .skill-icon {
            font-size: 1.5rem;
        }

        .skill-category ul {
            list-style: none;
        }

        .skill-category li {
            padding: 0.6rem 0;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border);
        }

        .skill-category li:last-child {
            border-bottom: none;
        }

        /* About Section */
        .about-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .profile-section {
            display: flex;
            align-items: center;
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .profile-placeholder {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent) 0%, #7c3aed 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            flex-shrink: 0;
        }

        .profile-photo {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            flex-shrink: 0;
            border: 3px solid var(--accent);
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.3);
        }

        .about-text p {
            color: var(--text-secondary);
            font-size: 1.05rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 0.875rem 2rem;
            background: var(--accent);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }

        .btn:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
        }

        .btn-outline:hover {
            background: var(--accent);
            color: white;
        }

        /* Contact Section */
        .contact-content {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .contact-content p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }

        /* Footer */
        footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border);
            padding: 3rem 2rem;
            text-align: center;
        }

        footer p {
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Typing Effect */
        .typing-text {
            display: inline;
            border-right: 2px solid var(--accent);
            animation: blink 0.7s infinite;
        }

        @keyframes blink {
            0%, 50% { border-color: var(--accent); }
            51%, 100% { border-color: transparent; }
        }

        /* Hero Search Bar */
        .hero-search {
            max-width: 600px;
            margin: 2rem auto 0;
            position: relative;
        }

        .hero-search-container {
            display: flex;
            align-items: center;
            background: rgba(26, 31, 53, 0.8);
            border: 2px solid var(--border);
            border-radius: 50px;
            padding: 0.75rem 1.5rem;
            gap: 1rem;
            transition: all 0.3s;
            cursor: pointer;
        }

        .hero-search-container:hover {
            border-color: var(--accent);
            background: rgba(26, 31, 53, 0.95);
            box-shadow: 0 8px 24px rgba(59, 130, 246, 0.2);
        }

        .hero-search-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .hero-search-input {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-size: 1rem;
            outline: none;
            pointer-events: none;
        }

        /* Chatbot Styles */
        .chat-button {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent) 0%, #7c3aed 100%);
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.4);
            transition: transform 0.3s, box-shadow 0.3s;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(59, 130, 246, 0.6);
        }

        .chat-container {
            position: fixed;
            bottom: 5rem;
            right: 2rem;
            width: 380px;
            height: 550px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            display: none;
            flex-direction: column;
            z-index: 1000;
            overflow: hidden;
        }

        .chat-container.active {
            display: flex;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-header {
            background: linear-gradient(135deg, var(--accent) 0%, #7c3aed 100%);
            padding: 1.2rem;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h3 {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .chat-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 3px;
        }

        .message {
            display: flex;
            gap: 0.8rem;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.bot {
            align-self: flex-start;
        }

        .message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent) 0%, #7c3aed 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            flex-shrink: 0;
            color: white;
            font-weight: bold;
        }

        .message.user .message-avatar {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .message-content {
            max-width: 70%;
            padding: 0.8rem 1rem;
            border-radius: 12px;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .message.bot .message-content {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-bottom-left-radius: 4px;
        }

        .message.user .message-content {
            background: var(--accent);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .chat-input-container {
            padding: 1rem;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 0.8rem;
        }

        .chat-input {
            flex: 1;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 0.8rem;
            color: var(--text-primary);
            font-size: 0.9rem;
            outline: none;
            transition: border-color 0.3s;
        }

        .chat-input:focus {
            border-color: var(--accent);
        }

        .chat-input::placeholder {
            color: var(--text-secondary);
        }

        .chat-send {
            background: var(--accent);
            border: none;
            border-radius: 8px;
            padding: 0.8rem 1.2rem;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .chat-send:hover {
            background: var(--accent-hover);
        }

        .chat-send:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 0.8rem 1rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--text-secondary);
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        /* Mobile Responsive Design */
        
        /* Tablets and small laptops */
        @media (max-width: 1024px) {
            nav .container {
                padding: 0 1.5rem;
            }
            
            .container {
                padding: 0 1.5rem;
            }
            
            .projects-grid,
            .skills-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* Tablets portrait and phones landscape */
        @media (max-width: 768px) {
            /* Mobile Navigation */
            .mobile-menu-toggle {
                display: flex;
            }
            
            nav .nav-menu {
                position: fixed;
                top: 60px;
                right: -100%;
                width: 70%;
                max-width: 300px;
                height: calc(100vh - 60px);
                background: var(--bg-secondary);
                flex-direction: column;
                gap: 0;
                padding: 2rem 0;
                border-left: 1px solid var(--border);
                transition: right 0.3s ease;
                box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
            }
            
            nav .nav-menu.active {
                right: 0;
            }
            
            nav .nav-menu li {
                width: 100%;
                text-align: center;
                padding: 0;
            }
            
            nav .nav-menu a {
                display: block;
                padding: 1rem 2rem;
                width: 100%;
                border-bottom: 1px solid var(--border);
            }
            
            nav .nav-menu .btn {
                margin: 1rem auto;
                display: inline-block;
                width: auto;
                border-bottom: none;
            }
            
            /* Navigation */
            nav {
                padding: 0.75rem 0;
            }
            
            nav .container {
                padding: 0 1rem;
            }
            
            nav .logo {
                font-size: 1rem;
            }
            
            nav .nav-menu {
                gap: 0.75rem;
                font-size: 0.85rem;
            }
            
            /* Hero Section */
            .hero {
                padding: 6rem 1.5rem 3rem;
                min-height: 90vh;
            }
            
            .hero h1 {
                font-size: 2.5rem;
                line-height: 1.2;
            }

            .hero .subtitle {
                font-size: 1.1rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            /* Buttons */
            .btn {
                padding: 0.75rem 1.5rem;
                font-size: 0.95rem;
            }
            
            /* Car image showcase */
            div[style*="width: 50%"] img {
                width: 90% !important;
            }

            /* Sections */
            section {
                padding: 3rem 1.5rem;
            }
            
            section h2 {
                font-size: 2rem;
            }
            
            .section-subtitle {
                font-size: 1rem;
            }

            /* Grids */
            .projects-grid,
            .skills-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            /* Profile Section */
            .profile-section {
                flex-direction: column;
                text-align: center;
                gap: 1.5rem;
            }
            
            .profile-photo,
            .profile-placeholder {
                width: 120px;
                height: 120px;
                font-size: 2.5rem;
            }
            
            .about-content {
                gap: 2rem;
            }

            /* Chat */
            .chat-container {
                width: calc(100vw - 2rem);
                height: 70vh;
                right: 1rem;
                bottom: 5rem;
            }

            .chat-button {
                width: 55px;
                height: 55px;
                right: 1rem;
                bottom: 1rem;
                font-size: 1.5rem;
            }
            
            /* Modal */
            .modal-content {
                width: 95%;
                margin: 1rem;
                max-height: 85vh;
            }
            
            .modal-header {
                padding: 1rem 1.5rem;
            }
            
            .modal-header h2 {
                font-size: 1.4rem;
            }
            
            .modal-body {
                padding: 1.5rem;
            }
            
            /* Tags */
            .tags {
                gap: 0.5rem;
            }
            
            .tag {
                padding: 0.4rem 0.8rem;
                font-size: 0.8rem;
            }
        }
        
        /* Mobile phones portrait */
        @media (max-width: 480px) {
            /* Navigation - even more compact */
            nav .container {
                padding: 0 0.75rem;
                flex-wrap: wrap;
            }
            
            nav .logo {
                font-size: 0.95rem;
            }
            
            /* Navigation menu already handled by hamburger at this size */
            }
            
            nav a {
                padding: 0.25rem 0.5rem;
            }
            
            /* Hero */
            .hero {
                padding: 5rem 1rem 2rem;
            }
            
            .hero h1 {
                font-size: 1.8rem;
            }
            
            .hero .subtitle {
                font-size: 1rem;
            }
            
            .hero p {
                font-size: 0.95rem;
            }
            
            /* Buttons stacked on very small screens */
            .hero div[style*="display: flex"] {
                flex-direction: column !important;
                gap: 0.75rem !important;
                width: 100%;
            }
            
            .btn {
                width: 100%;
                text-align: center;
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }
            
            /* Car image full width on mobile */
            div[style*="width: 50%"] img {
                width: 100% !important;
            }
            
            /* Sections */
            section {
                padding: 2.5rem 1rem;
            }
            
            section h2 {
                font-size: 1.75rem;
            }
            
            .section-subtitle {
                font-size: 0.9rem;
            }
            
            /* Cards */
            .project-card,
            .skill-category {
                padding: 1.25rem;
            }
            
            .project-card h3,
            .skill-category h3 {
                font-size: 1.1rem;
            }
            
            /* Profile */
            .profile-photo,
            .profile-placeholder {
                width: 100px;
                height: 100px;
                font-size: 2rem;
            }
            
            /* Text sizing */
            .about-text p,
            .modal-body p {
                font-size: 0.95rem;
            }
            
            /* Chat */
            .chat-container {
                width: calc(100vw - 1rem);
                height: 65vh;
                right: 0.5rem;
                bottom: 4.5rem;
            }
            
            .chat-header h3 {
                font-size: 1rem;
            }
            
            .chat-button {
                width: 50px;
                height: 50px;
                right: 0.75rem;
                bottom: 0.75rem;
                font-size: 1.3rem;
            }
            
            /* Modal */
            .modal-content {
                width: 98%;
                margin: 0.5rem;
            }
            
            .modal-header {
                padding: 0.75rem 1rem;
            }
            
            .modal-header h2 {
                font-size: 1.2rem;
            }
            
            .modal-body {
                padding: 1rem;
            }
            
            .modal-body h3 {
                font-size: 1.1rem;
            }
            
            .modal-close {
                font-size: 1.75rem;
                width: 32px;
                height: 32px;
            }
            
            /* Lists more compact */
            .modal-body ul,
            .modal-body ol {
                padding-left: 1.25rem;
            }
            
            .modal-body li {
                font-size: 0.9rem;
                margin-bottom: 0.4rem;
            }
        }
        
        /* Very small phones */
        @media (max-width: 360px) {
            .hero h1 {
                font-size: 1.5rem;
            }
            
            /* Menu handled by hamburger */
            
            section h2 {
                font-size: 1.5rem;
            }
        }

        .highlight {
            color: var(--accent);
            font-weight: 600;
        }

        /* Upload Notice */
        .upload-notice {
            background: rgba(59, 130, 246, 0.1);
            border: 2px dashed var(--accent);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem auto;
            max-width: 900px;
            text-align: center;
        }

        .upload-notice h3 {
            color: var(--accent);
            margin-bottom: 0.5rem;
        }

        .upload-notice p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* Project Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 14, 26, 0.95);
            backdrop-filter: blur(5px);
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            max-width: 900px;
            width: 90%;
            margin: 2rem;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.3s ease;
        }

        .modal-header {
            position: sticky;
            top: 0;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border);
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 10;
        }

        .modal-header h2 {
            font-size: 1.8rem;
            margin: 0;
            text-align: left;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: var(--bg-secondary);
            color: var(--accent);
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-body h3 {
            color: var(--accent);
            font-size: 1.3rem;
            margin: 2rem 0 1rem;
        }

        .modal-body p {
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 1rem;
        }

        .modal-body ul {
            color: var(--text-secondary);
            line-height: 1.8;
            margin-left: 1.5rem;
        }

        .modal-body ul li {
            margin-bottom: 0.5rem;
        }

        .project-card {
            position: relative;
        }

        .project-card::after {
            content: 'â†’';
            position: absolute;
            bottom: 1.5rem;
            right: 1.5rem;
            font-size: 1.5rem;
            color: var(--accent);
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
        }

        .project-card:hover::after {
            opacity: 1;
            transform: translateX(5px);
        }

        /* Project Filter Buttons */
.project-filters {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
}

.filter-btn {
    padding: 0.75rem 1.5rem;
    background: var(--bg-card);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-secondary);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 0.95rem;
}

.filter-btn:hover {
    border-color: var(--accent);
    color: var(--accent);
    transform: translateY(-2px);
}

.filter-btn.active {
    background: var(--accent);
    border-color: var(--accent);
    color: white;
}

.filter-btn .count {
    background: rgba(255, 255, 255, 0.2);
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    margin-left: 0.5rem;
    font-size: 0.85rem;
}

/* Project Card Filtering Animation */
.project-card.hidden {
    display: none;
    opacity: 0;
    transform: scale(0.8);
}

.project-card.visible {
    display: block;
    animation: projectFadeIn 0.5s ease forwards;
}

@keyframes projectFadeIn {
    from {
        opacity: 0;
        transform: scale(0.9) translateY(20px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .project-filters {
        gap: 0.5rem;
    }
    
    .filter-btn {
        padding: 0.6rem 1rem;
        font-size: 0.85rem;
    }
    
    .filter-btn .count {
        display: none;
    }
}
        /* Statistics Counter Section */
.stats-section {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(124, 58, 237, 0.1) 100%);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 4rem 2rem;
    margin: 4rem auto;
    max-width: 1200px;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 3rem;
    max-width: 1000px;
    margin: 0 auto;
}

.stat-item {
    text-align: center;
    padding: 1.5rem;
    position: relative;
    animation: fadeInUp 0.8s ease;
}

.stat-item::after {
    content: '';
    position: absolute;
    right: -1.5rem;
    top: 50%;
    transform: translateY(-50%);
    width: 1px;
    height: 60%;
    background: var(--border);
}

.stat-item:last-child::after {
    display: none;
}

.stat-number {
    font-size: 3.5rem;
    font-weight: 800;
    background: linear-gradient(135deg, var(--accent) 0%, #7c3aed 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.2;
    margin-bottom: 0.5rem;
    display: block;
}

.stat-label {
    font-size: 1rem;
    color: var(--text-secondary);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.stat-sublabel {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-top: 0.3rem;
    opacity: 0.7;
}

.stat-icon {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    opacity: 0.5;
}

/* Animation on scroll */
.stat-item.animated .stat-number {
    animation: countUp 2s ease-out;
}

@keyframes countUp {
    from {
        transform: scale(0.5);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .stats-section {
        padding: 3rem 1.5rem;
        margin: 3rem 1rem;
    }
    
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 2rem;
    }
    
    .stat-item::after {
        display: none;
    }
    
    .stat-number {
        font-size: 2.5rem;
    }
    
    .stat-label {
        font-size: 0.85rem;
    }
}

@media (max-width: 480px) {
    .stats-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .stat-number {
        font-size: 3rem;
    }
}
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
            <div class="logo">Dhruv Prajapati</div>
            <button class="mobile-menu-toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu">
                <li><a href="#home">Home</a></li>
                <li><a href="#experience">Experience</a></li>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#skills">Skills</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="Dhruv_Spring-Summer_2026_CV (1).pdf" download class="btn" style="padding: 0.5rem 1rem; font-size: 0.9rem;">Resume</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1>Dhruv Prajapati</h1>
            <div class="subtitle">Mechanical Engineering Student</div>
            <p class="description" id="typingText">
                <span class="typing-text"></span>
            </p>
            
            <!-- Hero Search Bar -->
            <div class="hero-search">
                <div class="hero-search-container" onclick="openChatFromHero()">
                    <span class="hero-search-icon">&#129302;</span>
                    <input 
                        type="text" 
                        class="hero-search-input" 
                        placeholder="Search Dhruv, ask questions..." 
                        readonly
                    >
                </div>
            </div>
            
            <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
                <a href="#projects" class="btn">View Projects</a>
                <a href="#contact" class="btn btn-outline">Get in Touch</a>
            </div>
        </div>
    </section>
    
    <!-- Statistics Counter Section -->
    <div class="stats-section">
        <div class="stats-grid">
            <div class="stat-item" data-target="11">
                <div class="stat-icon">ðŸš€</div>
                <span class="stat-number">0</span>
                <div class="stat-label">Projects</div>
                <div class="stat-sublabel">Completed</div>
            </div>
        
            <div class="stat-item" data-target="3.30">
                <div class="stat-icon">ðŸŽ“</div>
                <span class="stat-number">0</span>
                <div class="stat-label">GPA</div>
                <div class="stat-sublabel">Rochester Institute of Technology</div>
            </div>

            <div class="stat-item" data-target="4.00">
                <div class="stat-icon">ðŸŽ“</div>
                <span class="stat-number">0</span>
                <div class="stat-label">GPA</div>
                <div class="stat-sublabel"> University of Arizona</div>
            </div>
            
            <div class="stat-item" data-target="3">
                <div class="stat-icon">ðŸ’¼</div>
                <span class="stat-number">0</span>
                <div class="stat-label">Companies</div>
                <div class="stat-sublabel">Work Experience</div>
            </div>
        </div>
    </div>
    <!-- Project Showcase Image -->
    <div style="margin: 3rem 0; text-align: center;">
        <img src="car.jpg" alt="CAD Project Showcase" style="width: 50%; display: inline-block; box-shadow: 0 8px 30px rgba(0,0,0,0.3);">
    </div>

    <!-- Experience Section -->
    <section id="experience">
        <h2>My Professional Journey</h2>
        <p class="section-subtitle">Real-world experience applying engineering principles to complex challenges</p>
        
        <div class="skills-grid">
            <div class="skill-category">
                <h3><span class="skill-icon">&#127981;</span> MKS & LAM Research</h3>
                <p style="color: var(--text-secondary); margin-bottom: 1rem;">Semiconductor Manufacturing</p>
                <p style="color: var(--text-secondary); font-size: 0.95rem; line-height: 1.6;">
                    Performed SolidWorks Flow Simulation on pulsed DC heat sink designs. Validated CFD results through comprehensive 
                    lab testing and pressure drop analysis to support new product development for semiconductor fabrication equipment.
                </p>
            </div>
            
            <div class="skill-category">
                <h3><span class="skill-icon">&#128295;</span> Industrial HVAC Analysis</h3>
                <p style="color: var(--text-secondary); margin-bottom: 1rem;">R&D Service Department</p>
                <p style="color: var(--text-secondary); font-size: 0.95rem; line-height: 1.6;">
                    Diagnosed insufficient flow rate issues using Bernoulli's Principle and ultrasonic flow meters. 
                    Identified system inefficiencies and provided actionable recommendations for pump optimization.
                </p>
            </div>
            
            <div class="skill-category">
                <h3><span class="skill-icon">&#127891;</span> Rochester Institute of Technology</h3>
                <p style="color: var(--text-secondary); margin-bottom: 1rem;">Mechanical Engineering Student</p>
                <p style="color: var(--text-secondary); font-size: 0.95rem; line-height: 1.6;">
                    Conducting applied engineering research in structural optimization, fluid dynamics, and mathematical modeling. 
                    Developing expertise in FEA, CFD, and advanced CAD design principles.
                </p>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects">
    <h2>Featured Projects</h2>
    <p class="section-subtitle">Showcasing engineering solutions from concept to validation</p>
    
    <!-- NEW: Filter Buttons -->
    <div class="project-filters">
        <button class="filter-btn active" data-filter="all">
            All Projects <span class="count">11</span>
        </button>
        <button class="filter-btn" data-filter="cad">
            CAD & Design <span class="count">3</span>
        </button>
        <button class="filter-btn" data-filter="analysis">
            Analysis (FEA/CFD) <span class="count">4</span>
        </button>
        <button class="filter-btn" data-filter="programming">
            Programming <span class="count">2</span>
        </button>
        <button class="filter-btn" data-filter="lab">
            Lab Work <span class="count">4</span>
        </button>
    </div>
    
    <div class="projects-grid">
        <!-- Silver Armored Connector -->
        <div class="project-card visible" data-category="cad analysis" onclick="openModal('silverConnector')">
            <div class="project-image">
                <img src="silver.png" alt="Silver Armored Connector">
            </div>
            <div class="project-content">
                <h3>Silver Armored Connector</h3>
                <p>Reverse engineered 7-part assembly with complete CAD modeling, shop drawings, BOM, and FEA. Enhanced design efficiency by 10% through 3D printing prototype.</p>
                <div class="tags">
                    <span class="tag">Reverse Engineering</span>
                    <span class="tag">SolidWorks</span>
                    <span class="tag">FEA</span>
                    <span class="tag">3D Printing</span>
                </div>
            </div>
        </div>

        <!-- Pulsed DC Heat Sink -->
        <div class="project-card visible" data-category="analysis" onclick="openModal('heatSink')">
            <div class="project-image">
                <img src="heat.jpg" alt="Pulsed DC Heat Sink">
            </div>
            <div class="project-content">
                <h3>Pulsed DC Heat Sink Design</h3>
                <p>SolidWorks Flow Simulation for MKS semiconductor fabrication. Validated CFD with lab testing for pressure drop analysis supporting new product development.</p>
                <div class="tags">
                    <span class="tag">SolidWorks CFD</span>
                    <span class="tag">Lab Testing</span>
                    <span class="tag">Semiconductor</span>
                </div>
            </div>
        </div>

        <!-- HVAC Flow Analysis -->
        <div class="project-card visible" data-category="analysis" onclick="openModal('hvac')">
            <div class="project-image">
                <img src="5.jpg" alt="HVAC Loop Flow Analysis">
            </div>
            <div class="project-content">
                <h3>HVAC Loop Flow Analysis</h3>
                <p>Diagnosed 196 GPM vs 400 GPM shortfall using Bernoulli's Principle and ultrasonic flow meters. Reduced project costs through innovative equipment selection.</p>
                <div class="tags">
                    <span class="tag">Fluid Mechanics</span>
                    <span class="tag">Flow Analysis</span>
                    <span class="tag">Cost Optimization</span>
                </div>
            </div>
        </div>

        <!-- FEA Catapult -->
        <div class="project-card visible" data-category="analysis" onclick="openModal('catapult')">
            <div class="project-image">
                <img src="cata.png" alt="3D-Printed Catapult">
            </div>
            <div class="project-content">
                <h3>3D-Printed Catapult Optimization</h3>
                <p>FEA-driven design achieving 320-inch launch distance with strength-to-weight ratio of 626. Iterated through 2 design cycles with physical validation.</p>
                <div class="tags">
                    <span class="tag">FEA</span>
                    <span class="tag">3D Printing</span>
                    <span class="tag">Optimization</span>
                </div>
            </div>
        </div>

        <!-- MATLAB Lunar Lander -->
        <div class="project-card visible" data-category="programming" onclick="openModal('matlab')">
            <div class="project-image">
                <img src="Designer.png" alt="MATLAB Lunar Lander">
            </div>
            <div class="project-content">
                <h3>MATLAB Lunar Lander Simulation</h3>
                <p>Physics-based interactive simulation with real-time kinematics, optimized to achieve landing trajectory within 5% error margin.</p>
                <div class="tags">
                    <span class="tag">MATLAB</span>
                    <span class="tag">Physics Simulation</span>
                    <span class="tag">GUI</span>
                </div>
            </div>
        </div>

        <!-- CAD Models -->
        <div class="project-card visible" data-category="cad" onclick="openModal('cad')">
            <div class="project-image">
                <img src="solid.jpg" alt="SolidWorks CAD Portfolio">
            </div>
            <div class="project-content">
                <h3>SolidWorks CAD Portfolio</h3>
                <p>Comprehensive designs: car tire assembly, battery system, mini UGV prototype, and automotive model with complete technical drawings.</p>
                <div class="tags">
                    <span class="tag">SolidWorks</span>
                    <span class="tag">CAD Modeling</span>
                    <span class="tag">Assembly Design</span>
                </div>
            </div>
        </div>

        <!-- Epitrochoid -->
        <div class="project-card visible" data-category="programming" onclick="openModal('epitrochoid')">
            <div class="project-image">
                <img src="epitro.jpg" alt="Epitrochoid Analysis">
            </div>
            <div class="project-content">
                <h3>Epitrochoid Mathematical Analysis</h3>
                <p>Parametric curve modeling for gear design and rotary engines. Analyzed periodic motion and kinematic systems.</p>
                <div class="tags">
                    <span class="tag">Mathematical Modeling</span>
                    <span class="tag">Kinematics</span>
                </div>
            </div>
        </div>

        <!-- Accelerometer & Strain Gauge -->
        <div class="project-card visible" data-category="lab" onclick="openModal('accelerometer')">
            <div class="project-image">
                <img src="acce.png" alt="Accelerometer & Strain Gauge">
            </div>
            <div class="project-content">
                <h3>Accelerometer & Strain Gauge</h3>
                <p>Engineering measurements lab project utilizing accelerometer and strain gauge sensors for data acquisition and analysis.</p>
                <div class="tags">
                    <span class="tag">Lab Testing</span>
                    <span class="tag">Sensors</span>
                    <span class="tag">Data Acquisition</span>
                </div>
            </div>
        </div>

        <!-- Thermocouple VI -->
        <div class="project-card visible" data-category="lab" onclick="openModal('thermocouple')">
            <div class="project-image">
                <img src="thermo.jpg" alt="Thermocouple VI">
            </div>
            <div class="project-content">
                <h3>Thermocouple VI</h3>
                <p>LabVIEW virtual instrument for thermocouple temperature measurement and data logging in engineering measurements.</p>
                <div class="tags">
                    <span class="tag">LabVIEW</span>
                    <span class="tag">Temperature</span>
                    <span class="tag">Instrumentation</span>
                </div>
            </div>
        </div>

        <!-- Pressure Sensor VI -->
        <div class="project-card visible" data-category="lab" onclick="openModal('pressure')">
            <div class="project-image">
                <img src="pressure.jpg" alt="Pressure Sensor VI">
            </div>
            <div class="project-content">
                <h3>Pressure Sensor VI</h3>
                <p>LabVIEW virtual instrument for pressure sensor calibration and measurement in controlled environments.</p>
                <div class="tags">
                    <span class="tag">LabVIEW</span>
                    <span class="tag">Pressure</span>
                    <span class="tag">Calibration</span>
                </div>
            </div>
        </div>

        <!-- Mechanical Encoder LED -->
        <div class="project-card visible" data-category="lab cad" onclick="openModal('encoder')">
            <div class="project-image">
                <img src="meche.png" alt="Mechanical Encoder LED">
            </div>
            <div class="project-content">
                <h3>Mechanical Encoder LED</h3>
                <p>Rotary encoder project with LED feedback system for position tracking and control applications.</p>
                <div class="tags">
                    <span class="tag">Controls</span>
                    <span class="tag">Encoders</span>
                    <span class="tag">Electronics</span>
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- Skills Section -->
    <section id="skills">
        <h2>Technical Skills & Tools</h2>
        <p class="section-subtitle">Comprehensive engineering toolkit for analysis and design</p>
        
        <div class="skills-grid">
            <div class="skill-category">
                <h3><span class="skill-icon">&#128421;</span> CAD Software</h3>
                <ul>
                    <li>SolidWorks (Advanced)</li>
                    <li>Part & Assembly Modeling</li>
                    <li>Technical Drawings</li>
                    <li>Design for Manufacturing</li>
                </ul>
            </div>
            
            <div class="skill-category">
                <h3><span class="skill-icon">&#128202;</span> Analysis Tools</h3>
                <ul>
                    <li>FEA (Finite Element Analysis)</li>
                    <li>CFD (Computational Fluid Dynamics)</li>
                    <li>SolidWorks Flow Simulation</li>
                    <li>Structural Analysis</li>
                </ul>
            </div>
            
            <div class="skill-category">
                <h3><span class="skill-icon">&#128187;</span> Programming</h3>
                <ul>
                    <li>MATLAB (Advanced)</li>
                    <li>Python Scripting</li>
                    <li>Algorithm Development</li>
                    <li>Data Analysis</li>
                </ul>
            </div>
            
            <div class="skill-category">
                <h3><span class="skill-icon">&#9881;</span> Engineering</h3>
                <ul>
                    <li>GD&T (Geometric Dimensioning)</li>
                    <li>Root Cause Analysis (RCA)</li>
                    <li>Prototyping & Testing</li>
                    <li>Controls Engineering</li>
                </ul>
            </div>
            
            <div class="skill-category">
                <h3><span class="skill-icon">&#128300;</span> Lab & Testing</h3>
                <ul>
                    <li>Accelerometer & Strain Gauge</li>
                    <li>Thermocouple Measurement</li>
                    <li>Pressure Sensors</li>
                    <li>Mechanical Encoders</li>
                </ul>
            </div>
            
            <div class="skill-category">
                <h3><span class="skill-icon">&#127981;</span> Industries</h3>
                <ul>
                    <li>Automotive Design</li>
                    <li>Aerospace Engineering</li>
                    <li>Semiconductor Manufacturing</li>
                    <li>HVAC Systems</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about">
        <h2>About Me</h2>
        <p class="section-subtitle">From rural India to cutting-edge engineering</p>
        
        <div class="about-content">
            <div class="profile-section">
                <img src="dhruv.jpeg" alt="Dhruv Prajapati" class="profile-photo">
                <div class="about-text">
                    <p>
                        Hi there! My name is <span class="highlight">Dhruv Prajapati</span> and I'm currently in my junior year 
                        as a mechanical engineering student at Rochester Institute of Technology.
                    </p>
                    <p>
                        My childhood was spent in a farming village in India, where my engineering journey began with taking apart 
                        old toys and rebuilding them using motors, scrap plastic, and wood. Those early discoveries sparked a passion 
                        that continues to drive me today.
                    </p>
                </div>
            </div>
            
            <div class="about-text">
                <p>
                    Currently, I'm harnessing that passion by designing and modeling projects in the <strong>automobile, aerospace, 
                    and semiconductor industries</strong>. I've had the opportunity to work with companies like <strong>MKS and 
                    LAM Research</strong>, applying advanced analysis techniques to real-world engineering challenges.
                </p>
                <p>
                    My approach combines theoretical knowledge with hands-on problem-solving, whether I'm optimizing HVAC systems 
                    using fluid dynamics, validating CFD simulations in the lab, or designing 3D-printed components with FEA.
                </p>
                <p style="margin-top: 2rem;">
                    <strong>My journey from rural India to cutting-edge engineering is just getting started.</strong>
                </p>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <h2>Let's Connect</h2>
        <p class="section-subtitle">Discuss your next project or opportunity</p>
        
        <div class="contact-content">
            <p>
                Feel free to reach out to discuss new projects, creative ideas, or opportunities. 
                I'm always excited to explore new engineering challenges.
            </p>
            <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
                <a href="Dhruv_Semiconductor_CV.pdf" download class="btn">Download Resume</a>
                <a href="mailto:ddp8909@rit.edu" class="btn btn-outline">Send Email</a>
            </div>
            <p style="margin-top: 2rem; font-size: 0.95rem;">
                Rochester, NY, USA | +1 (520) 390-4462
            </p>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Dhruv Prajapati. All rights reserved.</p>
        <p style="font-size: 0.9rem;">Mechanical Engineering &#8226; CAD &#8226; FEA &#8226; CFD</p>
    </footer>

    <!-- Project Modals -->
    <div id="silverConnector" class="modal" onclick="closeModalOnBackdrop(event, 'silverConnector')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Silver Armored Connector - Reverse Engineering</h2>
                <button class="modal-close" onclick="closeModal('silverConnector')">Ã—</button>
            </div>
            <div class="modal-body">
                <h3>Project Overview</h3>
                <p><strong>Duration:</strong> April 2024 - May 2024</p>
                <p>Complete reverse engineering project assessing drawing principles and practices through disassembly and redesign of a silver armored connector assembly.</p>
                
                <h3>Key Components</h3>
                <p>The Silver Armoured Connector is a multifaceted assembly comprising <strong>7 distinct parts</strong>, each with varying materials, sizes, weights, and costs. The middle iron alloy part serves as the backbone sustaining the entire assembly's functionality.</p>
                
                <h3>Project Scope</h3>
                <ul>
                    <li><strong>Reverse Engineering:</strong> Complete disassembly and measurement of all components using Vernier calipers</li>
                    <li><strong>CAD Modeling:</strong> Created 3D solid models and assemblies in SolidWorks with isometric and hidden line views</li>
                    <li><strong>Shop Drawings:</strong> Comprehensive technical drawings with dimensions and tolerances</li>
                    <li><strong>Bill of Materials:</strong> Documented parts, materials, weights, and costs for entire assembly</li>
                    <li><strong>FEA Analysis:</strong> Applied 50 lbs external load to test structural integrity of iron alloy component</li>
                    <li><strong>Factor of Safety:</strong> Calculated stress, displacement, and strain values using default mesh</li>
                    <li><strong>3D Printing:</strong> Fabricated prototype with 10% efficiency improvement over original design</li>
                </ul>
                
                <h3>Challenges & Solutions</h3>
                <p><strong>Measurement Accuracy:</strong> Maintained all dimensions within 5% error through systematic error analysis of Vernier caliper measurements.</p>
                <p><strong>Complex Geometry:</strong> The black poly-plastic component featured intricate fillets, cuts, and screws. Replicated exterior accurately and made informed assumptions for interior components with TA assistance.</p>
                <p><strong>Time Constraints:</strong> Some very small dimensions required assumptions due to project timeline limitations.</p>
                
                <h3>Results</h3>
                <p>Successfully completed comprehensive reverse engineering documentation including:</p>
                <ul>
                    <li>3D isometric assembly views</li>
                    <li>Hidden line drawings showing internal complexities</li>
                    <li>Exploded assembly views with part callouts</li>
                    <li>Complete FEA validation with stress, strain, and displacement analysis</li>
                    <li>Enhanced prototype design with 10% efficiency improvement</li>
                </ul>
                
                <div class="tags" style="margin-top: 2rem;">
                    <span class="tag">Reverse Engineering</span>
                    <span class="tag">SolidWorks</span>
                    <span class="tag">FEA</span>
                    <span class="tag">3D Printing</span>
                    <span class="tag">Technical Drawings</span>
                    <span class="tag">BOM</span>
                    <span class="tag">GD&T</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Heat Sink Modal -->
    <div id="heatSink" class="modal" onclick="closeModalOnBackdrop(event, 'heatSink')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Pulsed DC Heat Sink Design</h2>
                <button class="modal-close" onclick="closeModal('heatSink')">Ã—</button>
            </div>
            <div class="modal-body">
                <h3>Project Overview</h3>
                <p><strong>Duration:</strong> Aug 2025 - Dec 2025<br>
                <strong>Company:</strong> MKS Instruments Inc.</p>
                
                <p>Performed comprehensive SolidWorks Flow Simulation on pulsed DC heat sink design for semiconductor fabrication equipment supporting new product development at MKS.</p>
                
                <h3>Methodology</h3>
                <ul>
                    <li><strong>CFD Simulation:</strong> SolidWorks Flow Simulation for thermal and fluid analysis of heat sink geometry</li>
                    <li><strong>Lab Testing:</strong> Physical validation using heat sink, chiller, flow meter, and pressure gauges</li>
                    <li><strong>Pressure Drop Analysis:</strong> Compared experimental vs simulated pressure drop data across flow rates</li>
                    <li><strong>Data Validation:</strong> Excel analysis of test results to validate CFD predictions</li>
                    <li><strong>Documentation:</strong> Comprehensive reporting for engineering review and customer presentation</li>
                </ul>
                
                <h3>Technical Details</h3>
                <p>Analyzed pulsed DC power heat sink performance under various operating conditions relevant to semiconductor fabrication processes. Work involved:</p>
                <ul>
                    <li>Setting up CFD boundary conditions matching real operating parameters</li>
                    <li>Designing and executing lab test procedures with calibrated instruments</li>
                    <li>Statistical comparison of simulation vs experimental data</li>
                    <li>Identifying discrepancies and refining simulation parameters</li>
                </ul>
                
                <h3>Impact</h3>
                <p>Provided critical validation data to support new product development for LAM Research, MKS's biggest customer in semiconductor fabrication equipment. Results informed design decisions for production units.</p>
                
                <p style="margin-top: 2rem;"><em>Note: Due to confidentiality agreements with MKS Instruments and LAM Research, detailed visuals and specific performance data cannot be shared publicly.</em></p>
                
                <div class="tags" style="margin-top: 2rem;">
                    <span class="tag">SolidWorks CFD</span>
                    <span class="tag">Lab Testing</span>
                    <span class="tag">Semiconductor</span>
                    <span class="tag">Pressure Analysis</span>
                    <span class="tag">MKS Instruments</span>
                    <span class="tag">Data Validation</span>
                </div>
            </div>
        </div>
    </div>

    <!-- HVAC Modal -->
    <div id="hvac" class="modal" onclick="closeModalOnBackdrop(event, 'hvac')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>HVAC Loop Flow Analysis</h2>
                <button class="modal-close" onclick="closeModal('hvac')">Ã—</button>
            </div>
            <div class="modal-body">
                <h3>Problem Statement</h3>
                <p>The R&D service/life-test area was observing insufficient flow rate for each load station. Loop 7 needed increased flow rate to support additional loads added to the system.</p>
                
                <h3>Initial Conditions</h3>
                <ul>
                    <li><strong>Current Flow Rate:</strong> 196 GPM (only 10 GPM higher than previous February survey)</li>
                    <li><strong>Required Flow Rate:</strong> 8-10 GPM per load station minimum</li>
                    <li><strong>Pump Capacity:</strong> 400 GPM rated capacity (Pump 7)</li>
                    <li><strong>Connected Loops:</strong> Loops 15 and 16 also derived water from Loop 7</li>
                    <li><strong>Filter Status:</strong> 4 filter bags total, only 2 currently working</li>
                </ul>
                
                <h3>Analysis Approach</h3>
                <p><strong>Applied Bernoulli's Principle</strong> for comprehensive fluid flow analysis with assumptions:</p>
                <ul>
                    <li>Transient flow conditions throughout system</li>
                    <li>Incompressible fluid (water density constant)</li>
                    <li>Pump performance maximized at 400 GPM rated capacity</li>
                    <li>Pump elevation zâ‚=zâ‚‚=0 (negligible elevation change)</li>
                    <li>No current filter degradation issues</li>
                </ul>
                
                <h3>Innovation: Ultrasonic Flow Meter Solution</h3>
                <p>Loops 15 and 16 had 3-inch pipes without existing flow meters. Traditional insertion-type meters would require:</p>
                <ul>
                    <li>Cutting into pipes (costly and time-consuming)</li>
                    <li>Multiple permanent installations</li>
                    <li>Special orders for 3-inch pipe compatibility</li>
                </ul>
                
                <p><strong>Solution:</strong> Selected <strong>BlueBot ultrasonic clamp-on flow meters</strong> that:</p>
                <ul>
                    <li>Attach externally without pipe modification</li>
                    <li>Are portable - one meter could measure multiple locations</li>
                    <li>Significantly reduced project costs vs multiple fixed meters</li>
                    <li>Provided cloud-based data storage via WiFi</li>
                </ul>
                
                <h3>Implementation Challenges</h3>
                <p><strong>Installation Delay:</strong> BlueBot claimed 3-minute setup, but actual installation took 3 days because:</p>
                <ul>
                    <li>IT needed to reset device MAC address</li>
                    <li>Device required whitelisting for network connectivity</li>
                    <li>Cloud data storage needed network configuration</li>
                </ul>
                
                <h3>Key Findings</h3>
                <ul>
                    <li><strong>Loops 15 & 16 Flow:</strong> Only ~25 GPM average (much lower than expected ~200 GPM)</li>
                    <li><strong>Total System Flow:</strong> Approximately 221 GPM (196 GPM service + 25 GPM loops)</li>
                    <li><strong>Pump Performance:</strong> Only 55% of rated 400 GPM capacity being delivered</li>
                    <li><strong>Root Cause:</strong> System restrictions preventing pump from achieving rated flow</li>
                </ul>
                
                <h3>Impact</h3>
                <p>Analysis provided clear evidence of system underperformance and identified that connected loops were not the primary cause of insufficient flow. Recommended further investigation of pump condition, system restrictions, and potential cavitation issues.</p>
                
                <div class="tags" style="margin-top: 2rem;">
                    <span class="tag">Fluid Mechanics</span>
                    <span class="tag">Bernoulli's Principle</span>
                    <span class="tag">Flow Analysis</span>
                    <span class="tag">Ultrasonic Flow Meters</span>
                    <span class="tag">Cost Optimization</span>
                    <span class="tag">MKS Instruments</span>
                    <span class="tag">Root Cause Analysis</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Catapult Modal -->
    <div id="catapult" class="modal" onclick="closeModalOnBackdrop(event, 'catapult')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>3D-Printed Catapult Optimization</h2>
                <button class="modal-close" onclick="closeModal('catapult')">Ã—</button>
            </div>
            <div class="modal-body">
                <h3>Project Objectives</h3>
                <p>Design and manufacture a 3D-printed catapult arm that maximizes both launch distance and strength-to-weight ratio while maintaining structural integrity during cantilever beam bending tests.</p>
                
                <h3>Design Constraints</h3>
                <ul>
                    <li><strong>Distance between holes:</strong> 40 mm (fixed)</li>
                    <li><strong>Height of hole:</strong> 11.25 mm (fixed)</li>
                    <li><strong>Hole diameter:</strong> 5 mm (fixed)</li>
                    <li><strong>Support leg thickness:</strong> 8.5 mm (fixed)</li>
                    <li><strong>Total length:</strong> 175 mm maximum</li>
                    <li><strong>Single rubber band power source</strong></li>
                </ul>
                
                <h3>Design Methodology</h3>
                <p><strong>Key Factors Analyzed:</strong></p>
                <ul>
                    <li>Overall arm length optimization</li>
                    <li>Pivot point to catapult head distance</li>
                    <li>Neck section thickness</li>
                    <li>Neck section length</li>
                    <li>Material distribution for weight optimization</li>
                </ul>
                
                <p><strong>Design Trade-offs Considered:</strong></p>
                <ul>
                    <li><strong>Shorter neck:</strong> Less launch distance but better structural integrity</li>
                    <li><strong>Thicker neck:</strong> More strength but increased weight to accelerate</li>
                    <li><strong>Longer pivot-to-head:</strong> Greater mechanical advantage but more stress concentration</li>
                    <li><strong>Cross-sectional area:</strong> Balance between strength and aerodynamic drag</li>
                </ul>
                
                <h3>FEA Analysis Process</h3>
                <p>Used finite element analysis to predict:</p>
                <ul>
                    <li>Stress concentrations under launching forces</li>
                    <li>Deflection during cantilever bending test</li>
                    <li>Factor of safety for critical sections</li>
                    <li>Optimal material distribution</li>
                </ul>
                
                <h3>Test Results</h3>
                <p><strong>Design Iteration 1:</strong></p>
                <ul>
                    <li>Max Launch Distance: 310 inches</li>
                    <li>Strength/Weight Ratio: 740.22</li>
                    <li>Performance: Baseline design</li>
                </ul>
                
                <p><strong>Design Iteration 2 (Final):</strong></p>
                <ul>
                    <li>Max Launch Distance: <strong>320 inches</strong> (projectile hit the wall!)</li>
                    <li>Strength/Weight Ratio: <strong>626.07</strong></li>
                    <li>Distance improvement: +10 inches (+3.2%)</li>
                    <li>Weight increase: +15%</li>
                    <li>Structural improvement: Survived bending test with higher load</li>
                </ul>
                
                <h3>Key Findings</h3>
                <p><strong>Launch Distance Maximization:</strong> Achieved through decreased cross-sectional area in non-critical regions, contributing to:</p>
                <ul>
                    <li>Lower aerodynamic drag during launch</li>
                    <li>Reduced rotational inertia</li>
                    <li>More efficient energy transfer from rubber band</li>
                </ul>
                
                <p><strong>Strength Optimization:</strong> 15% weight increase was strategically justified by:</p>
                <ul>
                    <li>Reinforcement at high-stress locations identified in FEA</li>
                    <li>Optimized 3D printing parameters (perimeters, layers, infill)</li>
                    <li>Improved structural reliability and test survivability</li>
                </ul>
                
                <h3>3D Printing Parameters</h3>
                <ul>
                    <li><strong>Perimeter count:</strong> Optimized for outer shell strength</li>
                    <li><strong>Layer height:</strong> Balanced for strength and print time</li>
                    <li><strong>Infill percentage:</strong> Variable density based on stress analysis</li>
                    <li><strong>Infill pattern:</strong> Selected for directional strength</li>
                </ul>
                
                <h3>Conclusions</h3>
                <p>Project achieved <strong>95% success rate</strong> in deriving the most efficient catapult arm design. Successfully demonstrated:</p>
                <ul>
                    <li>Integration of CAD modeling, FEA simulation, and physical testing</li>
                    <li>Iterative design improvement based on analytical and empirical data</li>
                    <li>Trade-off optimization between projectile performance and structural strength</li>
                    <li>Validation of lightweight structure design principles</li>
                </ul>
                
                <div class="tags" style="margin-top: 2rem;">
                    <span class="tag">FEA</span>
                    <span class="tag">3D Printing</span>
                    <span class="tag">Optimization</span>
                    <span class="tag">Design Iteration</span>
                    <span class="tag">Structural Testing</span>
                    <span class="tag">CAD</span>
                    <span class="tag">Mechanical Design</span>
                </div>
            </div>
        </div>
    </div>

    <!-- MATLAB Modal -->
    <div id="matlab" class="modal" onclick="closeModalOnBackdrop(event, 'matlab')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>MATLAB Lunar Lander Simulation</h2>
                <button class="modal-close" onclick="closeModal('matlab')">Ã—</button>
            </div>
            <div class="modal-body">
                <h3>Project Overview</h3>
                <p><strong>Duration:</strong> Oct 2024 - Dec 2024<br>
                <strong>Course:</strong> MECE 117 - Intro to Programming for Engineers</p>
                
                <p>Developed comprehensive MATLAB simulation of lunar lander descent incorporating real physics principles and interactive gameplay mechanics with complete GUI implementation.</p>
                
                <h3>Physics Implementation</h3>
                <p><strong>Lunar Environment Parameters:</strong></p>
                <ul>
                    <li><strong>Moon gravity:</strong> 1.62 m/sÂ²</li>
                    <li><strong>Moon radius:</strong> 1.738Ã—10â¶ m</li>
                    <li><strong>Time step:</strong> dt = 0.1 seconds for numerical integration</li>
                </ul>
                
                <p><strong>Spacecraft Parameters:</strong></p>
                <ul>
                    <li><strong>Ship dimensions:</strong> 40m height Ã— 40m width</li>
                    <li><strong>Ship mass:</strong> 4,900 kg (dry)</li>
                    <li><strong>Initial fuel mass:</strong> 10,300 kg</li>
                    <li><strong>Maximum thrust:</strong> 45,000 N</li>
                    <li><strong>Thrust increment:</strong> Î”T = 4,500 N per arrow key press</li>
                </ul>
                
                <h3>Technical Features</h3>
                <p><strong>Real-Time Physics Calculations:</strong></p>
                <ul>
                    <li><strong>Kinematics:</strong> Position and velocity updates using dt integration</li>
                    <li><strong>Thrust mechanics:</strong> Variable thrust control with fuel consumption (5Ã—10â»Â³ Ã— T Ã— dt kg/s)</li>
                    <li><strong>Rotational dynamics:</strong> Angle Q control for thrust vectoring</li>
                    <li><strong>Gravity modeling:</strong> Constant lunar surface gravity</li>
                    <li><strong>Centripetal force:</strong> Radial acceleration component for orbital effects</li>
                </ul>
                
                <p><strong>Interactive Controls (Arrow Keys):</strong></p>
                <ul>
                    <li><strong>Up Arrow:</strong> Increase thrust by increment (if fuel available)</li>
                    <li><strong>Down Arrow:</strong> Decrease thrust by increment</li>
                    <li><strong>Right Arrow:</strong> Rotate ship clockwise by 2Â°</li>
                    <li><strong>Left Arrow:</strong> Rotate ship counterclockwise by 2Â°</li>
                </ul>
                
                <h3>Game Mechanics</h3>
                <p><strong>Landing Success Conditions (ALL must be met):</strong></p>
                <ul>
                    <li><strong>Terrain:</strong> Landing on designated flat surface zones (specific x-coordinates)</li>
                    <li><strong>Orientation:</strong> Ship upright within Â±2Â° (|Q| â‰¤ 2Â°)</li>
                    <li><strong>Vertical velocity:</strong> Low impact speed (Vy > -0.5 m/s)</li>
                </ul>
                
                <p><strong>Failure Conditions:</strong></p>
                <ul>
                    <li>Landing on sloped terrain (too steep for safe landing)</li>
                    <li>Excessive tilt angle (ship would tip over)</li>
                    <li>Too high vertical velocity (crash impact)</li>
                </ul>
                
                <h3>Advanced Implementation</h3>
                <p><strong>GUI Development:</strong></p>
                <ul>
                    <li><strong>Title screen:</strong> Mission briefing and control instructions</li>
                    <li><strong>Real-time displays:</strong> Fuel remaining, altitude, Vx, Vy, thrust magnitude</li>
                    <li><strong>Visual feedback:</strong> Ship rotation rendering using rotation matrices</li>
                    <li><strong>Terrain generation:</strong> Procedural moon surface with flat landing zones</li>
                    <li><strong>Success/failure messages:</strong> Contextual feedback based on landing conditions</li>
                </ul>
                
                <p><strong>Code Architecture:</strong></p>
                <ul>
                    <li><strong>Modular functions:</strong> create_fig, create_setting, create_ship, kinematics, evaluate</li>
                    <li><strong>Event handling:</strong> WindowKeyPressFcn for keyboard input</li>
                    <li><strong>State management:</strong> Global variables for game state persistence</li>
                    <li><strong>Collision detection:</strong> Real-time terrain intersection checking</li>
                </ul>
                
                <h3>Mathematical Models</h3>
                <p><strong>Acceleration Calculations:</strong></p>
                <ul>
                    <li><strong>Weight force:</strong> Wy = mtot Ã— (-gm)</li>
                    <li><strong>Thrust components:</strong> Ty = T Ã— cos(-Q), Tx = T Ã— sin(-Q)</li>
                    <li><strong>Centripetal acceleration:</strong> Cy = mtot Ã— VxÂ² / (Rm+y)</li>
                    <li><strong>Net accelerations:</strong> Ax = 100Ã—Tx/mtot, Ay = 100Ã—(Wy+Ty+Cy)/mtot</li>
                </ul>
                
                <p><strong>Rotation Matrix Implementation:</strong></p>
                <ul>
                    <li>Real-time ship orientation using 2D rotation matrices</li>
                    <li>Visual representation updates every frame</li>
                    <li>Maintains ship geometry while rotating thrust vector</li>
                </ul>
                
                <h3>Optimization Achievement</h3>
                <p>Optimized code to achieve landing trajectory accuracy within <strong>5% error margin</strong> through:</p>
                <ul>
                    <li>Careful time step selection (dt = 0.1s)</li>
                    <li>Accurate numerical integration methods</li>
                    <li>Precision in physics calculations</li>
                    <li>Validation against theoretical trajectories</li>
                </ul>
                
                <h3>Try Again System</h3>
                <ul>
                    <li><strong>Reset functionality:</strong> Position, fuel, angle reset to initial values</li>
                    <li><strong>Persistent terrain:</strong> Same moon surface for consistent challenge</li>
                    <li><strong>Score tracking:</strong> Success messages include remaining fuel</li>
                </ul>
                
                <div class="tags" style="margin-top: 2rem;">
                    <span class="tag">MATLAB</span>
                    <span class="tag">Physics Simulation</span>
                    <span class="tag">GUI Development</span>
                    <span class="tag">Kinematics</span>
                    <span class="tag">Algorithm Optimization</span>
                    <span class="tag">Game Development</span>
                    <span class="tag">Numerical Methods</span>
                </div>
            </div>
        </div>
    </div>

    <!-- CAD Portfolio Modal -->
    <div id="cad" class="modal" onclick="closeModalOnBackdrop(event, 'cad')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>SolidWorks CAD Portfolio</h2>
                <button class="modal-close" onclick="closeModal('cad')">Ã—</button>
            </div>
            <div class="modal-body">
                <h3>Project Overview</h3>
                <p>Comprehensive collection of mechanical design projects demonstrating proficiency in SolidWorks CAD modeling, assembly design, and technical documentation across multiple engineering applications.</p>
                
                <h3>Featured Projects</h3>
                
                <p><strong>1. Car Tire Assembly</strong></p>
                <ul>
                    <li>Complete detailed tire model with realistic tread patterns and sidewall geometry</li>
                    <li>Multi-component assembly including rim, tire body, and tread sections</li>
                    <li>Technical drawings with dimensions, tolerances, and section views</li>
                    <li>Material specifications and manufacturing considerations</li>
                </ul>
                
                <p><strong>2. Car Battery Design</strong></p>
                <ul>
                    <li>Full assembly with internal cell arrangement and housing structure</li>
                    <li>Terminal posts and electrical connection details</li>
                    <li>Housing design with mounting features and safety considerations</li>
                    <li>Exploded views showing assembly sequence</li>
                </ul>
                
                <p><strong>3. Mini UGV (Unmanned Ground Vehicle) Prototype</strong></p>
                <ul>
                    <li>Conceptual design for autonomous mobile platform</li>
                    <li>Chassis and suspension system layout</li>
                    <li>Component integration and space allocation</li>
                    <li>Mechanical system design for mobility</li>
                </ul>
                
                <p><strong>4. Comprehensive Car Model</strong></p>
                <ul>
                    <li>Complete automotive design with body panels</li>
                    <li>Structural components and frame design</li>
                    <li>Assembly constraints and kinematic relationships</li>
                    <li>Multi-part assembly management</li>
                </ul>
                
                <h3>Technical Skills Demonstrated</h3>
                
                <p><strong>Part Modeling:</strong></p>
                <ul>
                    <li>Complex 3D geometry creation using sketches, extrudes, revolves, and lofts</li>
                    <li>Advanced features including fillets, chamfers, and patterns</li>
                    <li>Surface modeling for aesthetic components</li>
                    <li>Parametric design for easy modifications</li>
                </ul>
                
                <p><strong>Assembly Design:</strong></p>
                <ul>
                    <li>Multi-part assemblies with hundreds of components</li>
                    <li>Mates and constraints for realistic motion</li>
                    <li>Interference detection and clearance verification</li>
                    <li>Sub-assembly organization for complex systems</li>
                </ul>
                
                <p><strong>Technical Drawings:</strong></p>
                <ul>
                    <li>Orthographic projection views (top, front, side)</li>
                    <li>Section views and detail views for clarity</li>
                    <li>Dimension and tolerance specifications</li>
                    <li>Bill of Materials (BOM) generation</li>
                </ul>
                
                <p><strong>GD&T (Geometric Dimensioning & Tolerancing):</strong></p>
                <ul>
                    <li>Form controls (flatness, straightness, circularity)</li>
                    <li>Orientation controls (perpendicularity, parallelism, angularity)</li>
                    <li>Location controls (position, concentricity)</li>
                    <li>Datum reference frames</li>
                </ul>
                
                <p><strong>Design for Manufacturing (DFM):</strong></p>
                <ul>
                    <li>Practical, manufacturable designs considering production methods</li>
                    <li>Material selection based on application requirements</li>
                    <li>Cost-effective design choices</li>
                    <li>Assembly sequence planning</li>
                </ul>
                
                <h3>Applications</h3>
                <p>These CAD skills are directly applicable to:</p>
                <ul>
                    <li>Product development and prototyping</li>
                    <li>Manufacturing engineering</li>
                    <li>Mechanical system design</li>
                    <li>Technical documentation</li>
                    <li>Design validation and verification</li>
                </ul>
                
                <div class="tags" style="margin-top: 2rem;">
                    <span class="tag">SolidWorks</span>
                    <span class="tag">CAD Modeling</span>
                    <span class="tag">Assembly Design</span>
                    <span class="tag">Technical Drawing</span>
                    <span class="tag">GD&T</span>
                    <span class="tag">Automotive</span>
                    <span class="tag">DFM</span>
                </div>
            </div>
        </div>
    </div>


    <div id="epitrochoid" class="modal" onclick="closeModalOnBackdrop(event, 'epitrochoid')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Epitrochoid Mathematical Analysis</h2>
                <button class="modal-close" onclick="closeModal('epitrochoid')">Ã—</button>
            </div>
            <div class="modal-body">
                <h3>Mathematical Foundation</h3>
                <p>The epitrochoid is a plane curve defined by coordinate points {x,y} that are functions of the independent parameter Î¸ (theta), representing the angular position of a rolling circle's center in radians.</p>
                
                <h3>Geometric Concept</h3>
                <p><strong>Definition:</strong> An epitrochoid is traced by a point attached to a circle that rolls around the outside of a fixed circle. The tracing point can be:</p>
                <ul>
                    <li>On the circumference of the rolling circle (creating an epicycloid)</li>
                    <li>Inside the rolling circle</li>
                    <li>Outside the rolling circle</li>
                </ul>
                
                <h3>Parametric Equations</h3>
                <p>The curve is defined by parametric equations where Î¸ represents the rolling angle:</p>
                <ul>
                    <li>x(Î¸) and y(Î¸) are functions of the angular parameter</li>
                    <li>Each complete revolution occurs when Î¸ increases by 2Ï€ radians</li>
                    <li>The curve exhibits periodic behavior with period 2Ï€</li>
                </ul>
                
                <h3>Periodic Motion Analysis</h3>
                <p><strong>Key Characteristics:</strong></p>
                <ul>
                    <li><strong>Period:</strong> One complete period equals 2Ï€ radians</li>
                    <li><strong>Revolution count:</strong> Every time Î¸ passes through an integer multiple of 2Ï€, the rolling circle completes another full revolution around the fixed circle</li>
                    <li><strong>Pattern formation:</strong> The number of lobes or cusps depends on the ratio of circle radii</li>
                </ul>
                
                <h3>Visualization Approach</h3>
                <p>The most interesting displays of epitrochoids arise when graphing y versus x (Cartesian plot) rather than plotting either coordinate versus Î¸ (parameter plot). This creates intricate geometric patterns that demonstrate:</p>
                <ul>
                    <li>The relationship between angular position and resulting curve geometry</li>
                    <li>Symmetry properties of the curve</li>
                    <li>Periodic and cyclical motion characteristics</li>
                </ul>
                
                <h3>Engineering Applications</h3>
                
                <p><strong>1. Gear Design:</strong></p>
                <ul>
                    <li>Tooth profile generation for involute gears</li>
                    <li>Meshing analysis and contact patterns</li>
                    <li>Gear train kinematic studies</li>
                    <li>Optimization of gear tooth geometry</li>
                </ul>
                
                <p><strong>2. Rotary Engines (Wankel Engine):</strong></p>
                <ul>
                    <li>Rotor path modeling and chamber design</li>
                    <li>Epitrochoidal housing shape</li>
                    <li>Combustion chamber volume analysis</li>
                    <li>Sealing surface geometry</li>
                </ul>
                
                <p><strong>3. Kinematic Systems:</strong></p>
                <ul>
                    <li>Planetary gear train analysis</li>
                    <li>Epicyclic mechanism design</li>
                    <li>Cam and follower systems</li>
                    <li>Link mechanism path planning</li>
                </ul>
                
                <p><strong>4. Motion Analysis:</strong></p>
                <ul>
                    <li>Studying periodic and cyclical movements</li>
                    <li>Path planning for robotic systems</li>
                    <li>Vibration analysis in rotating machinery</li>
                    <li>Dynamic balancing of rotating components</li>
                </ul>
                
                <h3>Mathematical Properties</h3>
                <p><strong>Similarity to Trigonometric Functions:</strong></p>
                <ul>
                    <li>Like y = sin(Î¸), epitrochoids exhibit periodic behavior</li>
                    <li>Can be decomposed into harmonic components</li>
                    <li>Useful for Fourier analysis of complex motions</li>
                </ul>
                
                <h3>Mechanical Engineering Relevance</h3>
                <p>Understanding epitrochoid curves is essential for mechanical engineers working on:</p>
                <ul>
                    <li><strong>Mechanism Design:</strong> Creating linkages with specific path requirements</li>
                    <li><strong>Gear Engineering:</strong> Optimizing tooth profiles for smooth power transmission</li>
                    <li><strong>Engine Development:</strong> Designing rotary engine components</li>
                    <li><strong>Transmission Systems:</strong> Analyzing planetary gear arrangements</li>
                    <li><strong>Manufacturing:</strong> Programming CNC machines for complex curves</li>
                </ul>
                
                <h3>Computational Analysis</h3>
                <p>Project involved:</p>
                <ul>
                    <li>Parametric plotting of epitrochoid curves</li>
                    <li>Analysis of different radius ratios</li>
                    <li>Visualization of motion patterns</li>
                    <li>Mathematical modeling of gear interactions</li>
                </ul>
                
                <div class="tags" style="margin-top: 2rem;">
                    <span class="tag">Mathematical Modeling</span>
                    <span class="tag">Kinematics</span>
                    <span class="tag">Parametric Design</span>
                    <span class="tag">Gear Design</span>
                    <span class="tag">Mechanism Analysis</span>
                    <span class="tag">Rotary Engines</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Accelerometer Modal -->
    <div id="accelerometer" class="modal" onclick="closeModalOnBackdrop(event, 'accelerometer')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Accelerometer & Strain Gauge</h2>
                <button class="modal-close" onclick="closeModal('accelerometer')">Ã—</button>
            </div>
            <div class="modal-body">
                <h3>Project Overview</h3>
                <p>Engineering Measurements laboratory project focused on sensor technology, data acquisition systems, and experimental measurement techniques using accelerometers and strain gauges.</p>
                
                <h3>Accelerometer Component</h3>
                <p><strong>Sensor Technology:</strong></p>
                <ul>
                    <li><strong>Type:</strong> Piezoelectric accelerometer for dynamic measurements</li>
                    <li><strong>Measurement principle:</strong> Converts mechanical acceleration to electrical signal</li>
                    <li><strong>Sensitivity:</strong> Calibrated output in mV/g or pC/g</li>
                    <li><strong>Frequency response:</strong> Suitable for vibration and impact testing</li>
                </ul>
                
                <p><strong>Applications:</strong></p>
                <ul>
                    <li>Vibration analysis of mechanical systems</li>
                    <li>Impact testing and shock response</li>
                    <li>Dynamic response characterization</li>
                    <li>Modal analysis for structural dynamics</li>
                    <li>Machine condition monitoring</li>
                </ul>
                
                <p><strong>Data Acquisition:</strong></p>
                <ul>
                    <li>Real-time acceleration measurements in multiple axes (x, y, z)</li>
                    <li>High-speed sampling for transient events</li>
                    <li>Digital signal processing and filtering</li>
                    <li>FFT analysis for frequency domain characteristics</li>
                </ul>
                
                <h3>Strain Gauge Component</h3>
                <p><strong>Sensor Technology:</strong></p>
                <ul>
                    <li><strong>Type:</strong> Resistive strain gauge (foil or semiconductor)</li>
                    <li><strong>Measurement principle:</strong> Resistance change proportional to strain</li>
                    <li><strong>Gauge factor:</strong> Sensitivity coefficient relating resistance change to strain</li>
                    <li><strong>Measurement range:</strong> Typically Â±3% strain</li>
                </ul>
                
                <p><strong>Applications:</strong></p>
                <ul>
                    <li>Structural stress analysis and testing</li>
                    <li>Load and force measurement</li>
                    <li>Material property characterization</li>
                    <li>Bridge and building structural health monitoring</li>
                    <li>Pressure transducer elements</li>
                </ul>
                
                <p><strong>Wheatstone Bridge Configuration:</strong></p>
                <ul>
                    <li>Quarter-bridge, half-bridge, or full-bridge arrangements</li>
                    <li>Temperature compensation techniques</li>
                    <li>High precision strain measurement (Â±1 microstrain)</li>
                    <li>Signal conditioning and amplification</li>
                </ul>
                
                <h3>Experimental Procedures</h3>
                
                <p><strong>Installation & Setup:</strong></p>
                <ul>
                    <li>Proper sensor mounting and alignment techniques</li>
                    <li>Surface preparation for strain gauge bonding</li>
                    <li>Wiring and electrical connections</li>
                    <li>Grounding and shielding for noise reduction</li>
                </ul>
                
                <p><strong>Calibration:</strong></p>
                <ul>
                    <li>Sensor calibration using known standards</li>
                    <li>Zeroing and offset adjustment</li>
                    <li>Sensitivity verification</li>
                    <li>Linearity check across measurement range</li>
                </ul>
                
                <p><strong>Data Collection:</strong></p>
                <ul>
                    <li>Data acquisition system configuration</li>
                    <li>Sampling rate selection based on signal frequency</li>
                    <li>Trigger settings for event capture</li>
                    <li>Data logging and storage</li>
                </ul>
                
                <h3>Signal Processing</h3>
                <ul>
                    <li><strong>Filtering:</strong> Low-pass, high-pass, and band-pass filters to remove noise</li>
                    <li><strong>Integration:</strong> Converting acceleration to velocity and displacement</li>
                    <li><strong>Statistical analysis:</strong> Mean, RMS, peak values, standard deviation</li>
                    <li><strong>Frequency analysis:</strong> FFT for identifying vibration modes</li>
                </ul>
                
                <h3>Uncertainty Analysis</h3>
                <p><strong>Error Sources:</strong></p>
                <ul>
                    <li>Sensor calibration uncertainty</li>
                    <li>Installation effects (mass loading, alignment)</li>
                    <li>Environmental factors (temperature, humidity)</li>
                    <li>Signal conditioning errors</li>
                    <li>Digitization and quantization errors</li>
                </ul>
                
                <p><strong>Uncertainty Quantification:</strong></p>
                <ul>
                    <li>Propagation of uncertainty through calculations</li>
                    <li>Confidence interval determination</li>
                    <li>Repeatability and reproducibility studies</li>
                </ul>
                
                <h3>Skills Developed</h3>
                <ul>
                    <li>Experimental design and planning</li>
                    <li>Sensor selection for specific applications</li>
                    <li>Data acquisition system operation</li>
                    <li>Signal conditioning and processing</li>
                    <li>Technical report writing with uncertainty analysis</li>
                    <li>Laboratory safety and best practices</li>
                </ul>
                
                <h3>Engineering Applications</h3>
                <p>These measurement techniques are fundamental to:</p>
                <ul>
                    <li>Product testing and validation</li>
                    <li>Quality control in manufacturing</li>
                    <li>Research and development</li>
                    <li>Failure analysis and investigation</li>
                    <li>Structural health monitoring systems</li>
                </ul>
                
                <div class="tags" style="margin-top: 2rem;">
                    <span class="tag">Lab Testing</span>
                    <span class="tag">Sensors</span>
                    <span class="tag">Data Acquisition</span>
                    <span class="tag">Measurements</span>
                    <span class="tag">Signal Processing</span>
                    <span class="tag">Experimental Methods</span>
                    <span class="tag">Uncertainty Analysis</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Thermocouple Modal -->
    <div id="thermocouple" class="modal" onclick="closeModalOnBackdrop(event, 'thermocouple')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Thermocouple VI</h2>
                <button class="modal-close" onclick="closeModal('thermocouple')">Ã—</button>
            </div>
            <div class="modal-body">
                <h3>Project Overview</h3>
                <p>LabVIEW Virtual Instrument (VI) development project for thermocouple-based temperature measurement, data logging, and real-time monitoring in engineering measurements applications.</p>
                
                <h3>Thermocouple Technology</h3>
                <p><strong>Operating Principle:</strong></p>
                <ul>
                    <li><strong>Seebeck effect:</strong> Voltage generated at junction of dissimilar metals due to temperature difference</li>
                    <li><strong>Measurement junction:</strong> Hot junction at measurement point</li>
                    <li><strong>Reference junction:</strong> Cold junction at known reference temperature</li>
                    <li><strong>Thermoelectric voltage:</strong> Proportional to temperature difference</li>
                </ul>
                
                <p><strong>Thermocouple Types:</strong></p>
                <ul>
                    <li><strong>Type K (Chromel-Alumel):</strong> -200Â°C to +1350Â°C, general purpose</li>
                    <li><strong>Type J (Iron-Constantan):</strong> -40Â°C to +750Â°C, reducing atmospheres</li>
                    <li><strong>Type T (Copper-Constantan):</strong> -200Â°C to +350Â°C, high accuracy</li>
                    <li><strong>Type E, N, R, S:</strong> Specialized applications</li>
                </ul>
                
                <h3>LabVIEW Implementation</h3>
                <p><strong>Front Panel (User Interface):</strong></p>
                <ul>
                    <li><strong>Temperature display:</strong> Real-time numeric indicator in Â°C, Â°F, or K</li>
                    <li><strong>Chart/Graph:</strong> Historical temperature trend visualization</li>
                    <li><strong>Controls:</strong> Start/stop acquisition, sampling rate, alarm thresholds</li>
                    <li><strong>Indicators:</strong> Min/max values, statistics, alarm status</li>
                    <li><strong>File path:</strong> Data logging destination selection</li>
                </ul>
                
                <p><strong>Block Diagram (Programming):</strong></p>
                <ul>
                    <li><strong>DAQ Assistant:</strong> Hardware configuration for analog input</li>
                    <li><strong>Thermocouple scaling:</strong> Voltage to temperature conversion</li>
                    <li><strong>CJC (Cold Junction Compensation):</strong> Automatic reference temperature correction</li>
                    <li><strong>While loop:</strong> Continuous acquisition with stop condition</li>
                    <li><strong>File I/O:</strong> Data logging to spreadsheet or TDMS file</li>
                </ul>
                
                <h3>Features Implemented</h3>
                
                <p><strong>Real-Time Monitoring:</strong></p>
                <ul>
                    <li>Continuous temperature reading at user-defined sampling rate</li>
                    <li>Graphical display with auto-scaling or fixed range</li>
                    <li>Multiple thermocouple channels (if using multi-channel DAQ)</li>
                </ul>
                
                <p><strong>Data Logging:</strong></p>
                <ul>
                    <li>Timestamped temperature data storage</li>
                    <li>User-selectable file format (CSV, TXT, TDMS)</li>
                    <li>Configurable logging interval</li>
                    <li>File header with test parameters and metadata</li>
                </ul>
                
                <p><strong>Alarm System:</strong></p>
                <ul>
                    <li>High and low temperature threshold settings</li>
                    <li>Visual and/or audible alarm indicators</li>
                    <li>Alarm event logging</li>
                    <li>Safety interlock capability</li>
                </ul>
                
                <p><strong>Calibration Features:</strong></p>
                <ul>
                    <li>Offset adjustment for sensor calibration</li>
                    <li>Gain/slope correction</li>
                    <li>Multi-point calibration option</li>
                    <li>Calibration date and certificate tracking</li>
                </ul>
                
                <h3>Cold Junction Compensation (CJC)</h3>
                <p><strong>Necessity:</strong> Thermocouples measure temperature difference, not absolute temperature. CJC accounts for reference junction temperature.</p>
                
                <p><strong>Implementation Methods:</strong></p>
                <ul>
                    <li><strong>Hardware CJC:</strong> Built-in temperature sensor in DAQ device</li>
                    <li><strong>Software CJC:</strong> Mathematical compensation using reference tables</li>
                    <li><strong>Ice bath reference:</strong> Traditional 0Â°C reference (rarely used in modern systems)</li>
                </ul>
                
                <h3>Signal Conditioning</h3>
                <ul>
                    <li><strong>Amplification:</strong> Thermocouple signals are small (Î¼V/Â°C), requiring amplification</li>
                    <li><strong>Filtering:</strong> Low-pass filter to reduce electrical noise (50/60 Hz)</li>
                    <li><strong>Linearization:</strong> Converting non-linear thermocouple output to temperature</li>
                    <li><strong>Isolation:</strong> Electrical isolation to prevent ground loops</li>
                </ul>
                
                <h3>Applications</h3>
                
                <p><strong>Laboratory Testing:</strong></p>
                <ul>
                    <li>Heat transfer experiments</li>
                    <li>Material thermal property characterization</li>
                    <li>Calorimetry studies</li>
                </ul>
                
                <p><strong>Process Monitoring:</strong></p>
                <ul>
                    <li>Furnace and oven temperature control</li>
                    <li>Extrusion and molding processes</li>
                    <li>Chemical reactor monitoring</li>
                </ul>
                
                <p><strong>Thermal Testing:</strong></p>
                <ul>
                    <li>Engine and exhaust temperature measurement</li>
                    <li>Electronic component thermal testing</li>
                    <li>HVAC system performance evaluation</li>
                </ul>
                
                <h3>Error Sources & Mitigation</h3>
                <p><strong>Common Errors:</strong></p>
                <ul>
                    <li><strong>Extension wire mismatch:</strong> Use correct thermocouple-type extension wire</li>
                    <li><strong>Poor thermal contact:</strong> Ensure good junction-to-surface contact</li>
                    <li><strong>Electrical noise:</strong> Proper shielding and grounding</li>
                    <li><strong>Response time:</strong> Account for thermal mass of sensor</li>
                </ul>
                
                <h3>Skills Demonstrated</h3>
                <ul>
                    <li>LabVIEW graphical programming</li>
                    <li>Data acquisition hardware interfacing</li>
                    <li>Temperature measurement principles</li>
                    <li>User interface design</li>
                    <li>Data logging and file I/O</li>
                    <li>Signal processing and filtering</li>
                    <li>Instrumentation best practices</li>
                </ul>
                
                <div class="tags" style="margin-top: 2rem;">
                    <span class="tag">LabVIEW</span>
                    <span class="tag">Temperature</span>
                    <span class="tag">Instrumentation</span>
                    <span class="tag">Data Logging</span>
                    <span class="tag">Sensors</span>
                    <span class="tag">DAQ</span>
                    <span class="tag">Signal Conditioning</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Pressure Sensor Modal -->
    <div id="pressure" class="modal" onclick="closeModalOnBackdrop(event, 'pressure')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Pressure Sensor VI</h2>
                <button class="modal-close" onclick="closeModal('pressure')">Ã—</button>
            </div>
            <div class="modal-body">
                <h3>Project Overview</h3>
                <p>LabVIEW Virtual Instrument for pressure sensor calibration, measurement, and data acquisition in controlled test environments with focus on accuracy and reliability.</p>
                
                <h3>Pressure Sensor Technology</h3>
                <p><strong>Sensor Types:</strong></p>
                <ul>
                    <li><strong>Piezoresistive:</strong> Resistance change due to applied pressure (strain gauges on diaphragm)</li>
                    <li><strong>Capacitive:</strong> Capacitance change between diaphragm and fixed plate</li>
                    <li><strong>Piezoelectric:</strong> Charge generation under dynamic pressure (not for static)</li>
                    <li><strong>Optical:</strong> Light interference patterns from diaphragm deflection</li>
                </ul>
                
                <p><strong>Measurement Types:</strong></p>
                <ul>
                    <li><strong>Absolute pressure:</strong> Measured relative to perfect vacuum</li>
                    <li><strong>Gauge pressure:</strong> Measured relative to atmospheric pressure</li>
                    <li><strong>Differential pressure:</strong> Pressure difference between two points</li>
                    <li><strong>Sealed gauge:</strong> Reference to sealed chamber at fixed pressure</li>
                </ul>
                
                <h3>LabVIEW VI Implementation</h3>
                <p><strong>Front Panel Features:</strong></p>
                <ul>
                    <li><strong>Pressure display:</strong> Real-time reading in PSI, kPa, bar, or mmHg</li>
                    <li><strong>Trend graph:</strong> Historical pressure vs time visualization</li>
                    <li><strong>Unit conversion:</strong> User-selectable pressure units</li>
                    <li><strong>Statistical indicators:</strong> Mean, max, min, standard deviation</li>
                    <li><strong>Calibration controls:</strong> Zero offset, span adjustment</li>
                </ul>
                
                <p><strong>Block Diagram Components:</strong></p>
                <ul>
                    <li><strong>Analog input:</strong> DAQ configuration for voltage/current signal</li>
                    <li><strong>Scaling:</strong> Convert raw signal to engineering units</li>
                    <li><strong>Calibration curve:</strong> Multi-point linearization if needed</li>
                    <li><strong>Data buffering:</strong> Smooth display and reduce noise</li>
                    <li><strong>Alarm logic:</strong> Threshold comparisons and alerts</li>
                </ul>
                
                <h3>Calibration Procedure</h3>
                <p><strong>Multi-Point Calibration:</strong></p>
                <ul>
                    <li><strong>Zero point:</strong> Establish baseline at atmospheric or vacuum</li>
                    <li><strong>Known standards:</strong> Apply calibrated pressure sources (deadweight tester, pressure controller)</li>
                    <li><strong>Data collection:</strong> Record sensor output at multiple pressure points</li>
                    <li><strong>Curve fitting:</strong> Linear or polynomial fit to calibration data</li>
                    <li><strong>Residual analysis:</strong> Check for systematic errors</li>
                </ul>
                
                <p><strong>Calibration Standards:</strong></p>
                <ul>
                    <li>NIST-traceable pressure gauges or transducers</li>
                    <li>Deadweight tester for high accuracy</li>
                    <li>Pressure controller with reference sensor</li>
                    <li>Documentation of uncertainty budget</li>
                </ul>
                
                <h3>Signal Conditioning</h3>
                <p><strong>Excitation:</strong></p>
                <ul>
                    <li>Voltage or current excitation for piezoresistive sensors</li>
                    <li>Bridge excitation and completion</li>
                    <li>Regulated power supply for stability</li>
                </ul>
                
                <p><strong>Amplification:</strong></p>
                <ul>
                    <li>Low-noise instrumentation amplifier</li>
                    <li>Gain selection based on pressure range and sensor sensitivity</li>
                    <li>Common-mode rejection for noise immunity</li>
                </ul>
                
                <p><strong>Filtering:</strong></p>
                <ul>
                    <li>Low-pass filter to remove high-frequency noise</li>
                    <li>Cut-off frequency selection based on application</li>
                    <li>Digital filtering in software for additional smoothing</li>
                </ul>
                
                <h3>Features Implemented</h3>
                
                <p><strong>Real-Time Monitoring:</strong></p>
                <ul>
                    <li>Continuous pressure reading at configurable sample rate</li>
                    <li>Strip chart display with scrolling history</li>
                    <li>X-Y plot for pressure vs another variable</li>
                    <li>Multiple channel support for differential measurements</li>
                </ul>
                
                <p><strong>Data Logging:</strong></p>
                <ul>
                    <li>Timestamped pressure data to file</li>
                    <li>Selectable file format (CSV, TXT, TDMS)</li>
                    <li>Metadata header with calibration info</li>
                    <li>Triggered or continuous logging modes</li>
                </ul>
                
                <p><strong>Analysis Tools:</strong></p>
                <ul>
                    <li>Peak detection and tracking</li>
                    <li>Rate of pressure change calculation</li>
                    <li>Leak rate determination</li>
                    <li>Statistical process control (SPC) charts</li>
                </ul>
                
                <h3>Applications</h3>
                
                <p><strong>Hydraulic System Testing:</strong></p>
                <ul>
                    <li>Pump performance characterization</li>
                    <li>Pressure relief valve testing</li>
                    <li>System pressure mapping</li>
                    <li>Leak detection and quantification</li>
                </ul>
                
                <p><strong>Pneumatic Circuit Analysis:</strong></p>
                <ul>
                    <li>Compressor output monitoring</li>
                    <li>Air consumption measurement</li>
                    <li>Regulator performance validation</li>
                    <li>System efficiency evaluation</li>
                </ul>
                
                <p><strong>Pressure Vessel Validation:</strong></p>
                <ul>
                    <li>Proof pressure testing</li>
                    <li>Burst pressure determination</li>
                    <li>Fatigue testing under cyclic pressure</li>
                    <li>Safety factor verification</li>
                </ul>
                
                <p><strong>Flow System Characterization:</strong></p>
                <ul>
                    <li>Pressure drop across components</li>
                    <li>Flow coefficient (Cv) determination</li>
                    <li>System curve generation</li>
                    <li>Pump operating point identification</li>
                </ul>
                
                <h3>Measurement Considerations</h3>
                
                <p><strong>Installation Effects:</strong></p>
                <ul>
                    <li><strong>Mounting orientation:</strong> Some sensors are orientation-sensitive</li>
                    <li><strong>Pressure tap location:</strong> Avoid turbulence and dead zones</li>
                    <li><strong>Impulse line:</strong> Minimize length, avoid traps for liquids/gases</li>
                    <li><strong>Temperature effects:</strong> Compensate for ambient temperature variations</li>
                </ul>
                
                <p><strong>Dynamic Response:</strong></p>
                <ul>
                    <li>Natural frequency of sensor and mounting system</li>
                    <li>Response time for transient measurements</li>
                    <li>Resonance avoidance in vibrating environments</li>
                    <li>Sampling rate selection for dynamic events</li>
                </ul>
                
                <h3>Uncertainty Analysis</h3>
                <p><strong>Error Sources:</strong></p>
                <ul>
                    <li>Sensor non-linearity and hysteresis</li>
                    <li>Temperature coefficient effects</li>
                    <li>Long-term drift and stability</li>
                    <li>Calibration standard uncertainty</li>
                    <li>Data acquisition system resolution</li>
                    <li>Environmental factors (vibration, EMI)</li>
                </ul>
                
                <p><strong>Total Uncertainty Calculation:</strong></p>
                <ul>
                    <li>Combine individual uncertainty components (RSS method)</li>
                    <li>Report expanded uncertainty with coverage factor</li>
                    <li>Document traceability chain to standards</li>
                </ul>
                
                <h3>Skills Demonstrated</h3>
                <ul>
                    <li>LabVIEW programming and VI development</li>
                    <li>Sensor calibration techniques and best practices</li>
                    <li>Data acquisition system design and configuration</li>
                    <li>Signal conditioning circuit understanding</li>
                    <li>Measurement uncertainty analysis</li>
                    <li>Technical documentation and reporting</li>
                    <li>Quality assurance and metrological traceability</li>
                </ul>
                
                <div class="tags" style="margin-top: 2rem;">
                    <span class="tag">LabVIEW</span>
                    <span class="tag">Pressure</span>
                    <span class="tag">Calibration</span>
                    <span class="tag">DAQ</span>
                    <span class="tag">Instrumentation</span>
                    <span class="tag">Uncertainty Analysis</span>
                    <span class="tag">Metrology</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Encoder Modal -->
    <div id="encoder" class="modal" onclick="closeModalOnBackdrop(event, 'encoder')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Mechanical Encoder LED</h2>
                <button class="modal-close" onclick="closeModal('encoder')">Ã—</button>
            </div>
            <div class="modal-body">
                <h3>Project Overview</h3>
                <p>Rotary encoder project integrating mechanical position sensing with LED visual feedback system for position tracking, direction detection, and control applications in mechatronic systems.</p>
                
                <h3>Rotary Encoder Technology</h3>
                <p><strong>Types of Encoders:</strong></p>
                <ul>
                    <li><strong>Optical encoder:</strong> Light source and photodetectors with slotted disk</li>
                    <li><strong>Magnetic encoder:</strong> Hall effect sensors detecting magnetic poles</li>
                    <li><strong>Mechanical encoder:</strong> Contact switches or brush contacts</li>
                    <li><strong>Capacitive encoder:</strong> Capacitance variation with rotation</li>
                </ul>
                
                <p><strong>Incremental vs Absolute:</strong></p>
                <ul>
                    <li><strong>Incremental:</strong> Outputs pulses during rotation, relative position</li>
                    <li><strong>Absolute:</strong> Unique code for each position, no reference needed</li>
                </ul>
                
                <h3>System Components</h3>
                
                <p><strong>Rotary Encoder:</strong></p>
                <ul>
                    <li><strong>Shaft:</strong> Mechanical input from user or mechanism</li>
                    <li><strong>Output signals:</strong> A and B channels (quadrature) for direction detection</li>
                    <li><strong>Resolution:</strong> Pulses per revolution (PPR) - e.g., 600 PPR</li>
                    <li><strong>Index pulse:</strong> Optional Z channel for reference position</li>
                </ul>
                
                <p><strong>LED Indicator System:</strong></p>
                <ul>
                    <li><strong>Position display:</strong> LED array showing angular position</li>
                    <li><strong>Direction indicators:</strong> Separate LEDs for CW/CCW rotation</li>
                    <li><strong>Speed indication:</strong> LED brightness or blink rate proportional to speed</li>
                    <li><strong>Status LEDs:</strong> Power, fault, reference position indicators</li>
                </ul>
                
                <p><strong>Control Circuit:</strong></p>
                <ul>
                    <li><strong>Microcontroller:</strong> Arduino, PIC, or similar for signal processing</li>
                    <li><strong>Quadrature decoder:</strong> Hardware or software decoding of A/B signals</li>
                    <li><strong>LED driver:</strong> Current limiting resistors or driver ICs</li>
                    <li><strong>Power supply:</strong> Regulated voltage for encoder and LEDs</li>
                </ul>
                
                <h3>Quadrature Signal Processing</h3>
                <p><strong>A/B Phase Relationship:</strong></p>
                <ul>
                    <li>A and B channels 90Â° out of phase (quadrature)</li>
                    <li>Phase lead/lag indicates direction of rotation</li>
                    <li>Four state transitions per cycle (4x resolution multiplication)</li>
                </ul>
                
                <p><strong>Direction Detection Algorithm:</strong></p>
                <ul>
                    <li>Compare A and B signal states at each transition</li>
                    <li>State machine or lookup table for direction determination</li>
                    <li>Increment or decrement position counter based on direction</li>
                </ul>
                
                <p><strong>Position Calculation:</strong></p>
                <ul>
                    <li>Count = Number of pulses accumulated</li>
                    <li>Angle = (Count / (PPR Ã— 4)) Ã— 360Â° (with 4x multiplication)</li>
                    <li>Handle rollover at 360Â° (modulo arithmetic)</li>
                    <li>Track multiple revolutions if needed</li>
                </ul>
                
                <h3>Functionality Implemented</h3>
                
                <p><strong>Position Tracking:</strong></p>
                <ul>
                    <li>Real-time angular position measurement (0-360Â°)</li>
                    <li>Multi-turn counting for total rotation</li>
                    <li>Sub-degree resolution based on encoder PPR</li>
                    <li>Position display on LED array (binary, bar graph, or ring pattern)</li>
                </ul>
                
                <p><strong>Direction Detection:</strong></p>
                <ul>
                    <li>Clockwise (CW) rotation indicated by one LED color/position</li>
                    <li>Counterclockwise (CCW) indicated by different LED</li>
                    <li>Immediate response to direction change</li>
                    <li>Visual feedback for user interface applications</li>
                </ul>
                
                <p><strong>Visual Feedback Patterns:</strong></p>
                <ul>
                    <li><strong>Position ring:</strong> LED illuminated at current position</li>
                    <li><strong>Direction arrows:</strong> CW/CCW indicator LEDs</li>
                    <li><strong>Speed bar:</strong> Number of LEDs proportional to rotation speed</li>
                    <li><strong>Pulse display:</strong> Blink on each encoder pulse for debugging</li>
                </ul>
                
                <h3>Applications</h3>
                
                <p><strong>Motor Control Systems:</strong></p>
                <ul>
                    <li>Servo motor position feedback</li>
                    <li>Stepper motor closed-loop control</li>
                    <li>Velocity control with tachometer function</li>
                    <li>Motor commutation for BLDC motors</li>
                </ul>
                
                <p><strong>Robotics and Automation:</strong></p>
                <ul>
                    <li>Joint angle measurement for robot arms</li>
                    <li>Wheel odometry for mobile robots</li>
                    <li>Gripper position sensing</li>
                    <li>End effector orientation tracking</li>
                </ul>
                
                <p><strong>CNC Machine Feedback:</strong></p>
                <ul>
                    <li>Axis position monitoring</li>
                    <li>Spindle speed measurement</li>
                    <li>Tool position verification</li>
                    <li>Home and limit position detection</li>
                </ul>
                
                <p><strong>User Interface Controls:</strong></p>
                <ul>
                    <li>Volume and parameter adjustment knobs</li>
                    <li>Menu navigation in embedded systems</li>
                    <li>Precision input devices</li>
                    <li>Gaming controllers and simulators</li>
                </ul>
                
                <h3>Circuit Design</h3>
                <p><strong>Encoder Interface:</strong></p>
                <ul>
                    <li>Pull-up or pull-down resistors on A/B channels (typically 10kÎ©)</li>
                    <li>Debouncing capacitors if using mechanical contacts</li>
                    <li>Schmitt trigger inputs for noise immunity</li>
                    <li>Proper grounding and shielding for optical encoders</li>
                </ul>
                
                <p><strong>LED Driver Circuit:</strong></p>
                <ul>
                    <li>Current-limiting resistors sized for LED forward voltage and current</li>
                    <li>Transistor or MOSFET drivers for high-current LEDs</li>
                    <li>Shift registers (74HC595) for multiple LEDs with few pins</li>
                    <li>PWM control for brightness adjustment</li>
                </ul>
                
                <h3>Software Features</h3>
                <ul>
                    <li><strong>Interrupt-driven:</strong> Hardware interrupts on A/B transitions for accuracy</li>
                    <li><strong>Debouncing:</strong> Software filtering of mechanical bounce</li>
                    <li><strong>State machine:</strong> Robust direction detection</li>
                    <li><strong>Overflow handling:</strong> Correct behavior at position limits</li>
                    <li><strong>Velocity calculation:</strong> Speed derived from position change over time</li>
                </ul>
                
                <h3>Performance Characteristics</h3>
                <ul>
                    <li><strong>Resolution:</strong> Typically 600-2400 PPR (2400-9600 counts with 4x)</li>
                    <li><strong>Maximum speed:</strong> Limited by encoder and microcontroller</li>
                    <li><strong>Update rate:</strong> Real-time response (microsecond to millisecond)</li>
                    <li><strong>Accuracy:</strong> Depends on encoder quality and installation</li>
                </ul>
                
                <h3>Skills Developed</h3>
                <ul>
                    <li>Sensor integration and interfacing</li>
                    <li>Digital signal processing and state machines</li>
                    <li>Circuit design and breadboard prototyping</li>
                    <li>Microcontroller programming (C/C++ for Arduino)</li>
                    <li>Quadrature decoding algorithms</li>
                    <li>LED driving and multiplexing techniques</li>
                    <li>Controls engineering fundamentals</li>
                    <li>Debugging with oscilloscope and logic analyzer</li>
                </ul>
                
                <h3>Future Enhancements</h3>
                <ul>
                    <li>Serial communication output (UART, SPI, I2C) for system integration</li>
                    <li>LCD display for numerical position readout</li>
                    <li>Programmable presets and memory positions</li>
                    <li>Calibration routine for alignment to physical reference</li>
                    <li>Data logging for position history analysis</li>
                </ul>
                
                <div class="tags" style="margin-top: 2rem;">
                    <span class="tag">Controls</span>
                    <span class="tag">Encoders</span>
                    <span class="tag">Electronics</span>
                    <span class="tag">Position Sensing</span>
                    <span class="tag">LED Systems</span>
                    <span class="tag">Microcontroller</span>
                    <span class="tag">Mechatronics</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Chatbot -->
    <button class="chat-button" id="chatButton" onclick="toggleChat()">&#128172;</button>
    
    <div class="chat-container" id="chatContainer">
        <div class="chat-header">
            <h3>Ask me about Dhruv's work</h3>
            <button class="chat-close" onclick="toggleChat()">Ã—</button>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="message bot">
                <div class="message-avatar">&#129302;</div>
                <div class="message-content">
                    Hi! I'm Dhruv's AI assistant. I can answer questions about his projects, skills, and experience. What would you like to know?
                </div>
            </div>
        </div>
        
        <div class="chat-input-container">
            <input 
                type="text" 
                class="chat-input" 
                id="chatInput" 
                placeholder="Ask about projects, skills, experience..."
                onkeypress="handleKeyPress(event)"
            >
            <button class="chat-send" id="sendButton" onclick="sendMessage()">Send</button>
        </div>
    </div>

    <script>
    // ===== CHATBOT FUNCTIONS (Load these FIRST) =====
    function toggleChat() {
        const container = document.getElementById('chatContainer');
        if (!container) {
            alert('Chat container not found!');
            return;
        }
        container.classList.toggle('active');
        if (container.classList.contains('active')) {
            document.getElementById('chatInput').focus();
        }
    }

    function handleKeyPress(event) {
        if (event.key === 'Enter') {
            sendMessage();
        }
    }

    function addMessage(content, isUser = false) {
    // escape to avoid HTML injection
    function escapeHtml(str) {
        return String(str).replace(/[&<>"']/g, function (m) {
            return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]);
        });
    }

    const messagesDiv = document.getElementById('chatMessages');
    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;

    if (isUser) {
        // user messages are rendered as plain escaped text
        messageDiv.innerHTML = `
            <div class="message-avatar">&#128100;</div>
            <div class="message-content">${escapeHtml(content)}</div>
        `;
    } else {
        // Bot messages: escape then do minimal markdown-like rendering
        const escaped = escapeHtml(content);

        // Split into lines and build HTML with list support
        const lines = escaped.split(/\r\n|\r|\n/);
        let rendered = '';
        let inUl = false;
        let inOl = false;

        function closeLists() {
            if (inUl) { rendered += '</ul>'; inUl = false; }
            if (inOl) { rendered += '</ol>'; inOl = false; }
        }

        for (let rawLine of lines) {
            const line = rawLine.trim();

            if (line === '') {
                // blank line: close lists and add paragraph break
                closeLists();
                rendered += '<br>';
                continue;
            }

            const ulMatch = line.match(/^[-â€¢]\s+(.*)/);
            const olMatch = line.match(/^(\d+)\.\s+(.*)/);

            if (ulMatch) {
                if (!inUl) { closeLists(); rendered += '<ul>'; inUl = true; }
                rendered += `<li>${ulMatch[1].replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')}</li>`;
                continue;
            }

            if (olMatch) {
                if (!inOl) { closeLists(); rendered += '<ol>'; inOl = true; }
                rendered += `<li>${olMatch[2].replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')}</li>`;
                continue;
            }

            // normal text line: close lists then render as paragraph text
            closeLists();
            // replace **bold**
            const inline = line.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
            rendered += `<p style="margin:0 0 .4rem 0">${inline}</p>`;
        }

        // close any open lists at the end
        if (inUl) rendered += '</ul>';
        if (inOl) rendered += '</ol>';

        messageDiv.innerHTML = `
            <div class="message-avatar">&#129302;</div>
            <div class="message-content">${rendered}</div>
        `;
    }

    messagesDiv.appendChild(messageDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

    function showTypingIndicator() {
        const messagesDiv = document.getElementById('chatMessages');
        const typingDiv = document.createElement('div');
        typingDiv.className = 'message bot';
        typingDiv.id = 'typingIndicator';
        typingDiv.innerHTML = `
            <div class="message-avatar">&#129302;</div>
            <div class="message-content typing-indicator">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        `;
        messagesDiv.appendChild(typingDiv);
        messagesDiv.scrollTop = messagesDiv.scrollHeight;
    }

    function removeTypingIndicator() {
        const indicator = document.getElementById('typingIndicator');
        if (indicator) indicator.remove();
    }

    const portfolioData = {
    name: "Dhruv Dilipkumar Prajapati",
    role: "Mechanical Engineering Junior Student",
    location: "Rochester, NY",
    phone: "+1 (520) 390-4462",
    email: "ddp8909@rit.edu",
    linkedin: "www.linkedin.com/in/dhruv-prajapati1220",
    
    education: {
        current: {
            degree: "Bachelor of Science in Mechanical Engineering",
            school: "Rochester Institute of Technology",
            gpa: "3.30",
            graduation: "December 2027"
        },
        previous: {
            degree: "Bachelor of Science in Aerospace Engineering (Transferred)",
            school: "University of Arizona",
            gpa: "4.00",
            period: "Aug 2023 - May 2024"
        }
    },
    
    skills: {
        cad: ["SolidWorks", "CATIA v5", "Ansys", "AutoCAD"],
        analysis: ["FEA", "CFD", "DOE", "RCA", "Six Sigma"],
        programming: ["MATLAB", "Python", "LabVIEW", "C++"],
        methodologies: ["Lean Manufacturing", "6S", "Design for Manufacturing"]
    },
    
    experience: [
        {
            title: "Mechanical Engineering Intern",
            company: "MKS Instruments Inc.",
            period: "Aug 2025 - Dec 2025",
            description: "SolidWorks Flow Simulation on pulsed DC heat sink, CFD validation through lab testing"
        },
        {
            title: "IT Support Assistant",
            company: "Rochester Institute of Technology",
            period: "Aug 2024 - July 2025"
        },
        {
            title: "Apple Certified Technician",
            company: "University of Arizona",
            period: "Aug 2023 - May 2024"
        }
    ],
    
    projects: {
        "silver connector": {
            name: "Silver Armored Connector",
            date: "April-May 2024",
            description: "Reverse engineered 7-part assembly with CAD modeling, shop drawings, BOM, and FEA. Enhanced design efficiency by 10% through 3D printing.",
            skills: ["Reverse Engineering", "SolidWorks", "FEA", "3D Printing"]
        },
        "heat sink": {
            name: "Pulsed DC Heat Sink Design",
            date: "Aug-Dec 2025",
            description: "SolidWorks Flow Simulation for MKS semiconductor fabrication. Validated CFD with lab testing.",
            skills: ["SolidWorks CFD", "Lab Testing", "Semiconductor"]
        },
        "hvac": {
            name: "HVAC Loop Flow Analysis",
            description: "Diagnosed 196 GPM vs 400 GPM flow shortfall using Bernoulli's Principle and ultrasonic flow meters.",
            skills: ["Fluid Mechanics", "Flow Analysis", "Cost Optimization"]
        },
        "catapult": {
            name: "3D-Printed Catapult",
            description: "FEA-driven design achieving 320-inch launch distance with strength-to-weight ratio of 626.",
            skills: ["FEA", "3D Printing", "Optimization"]
        },
        "matlab": {
            name: "MATLAB Lunar Lander",
            date: "Oct-Dec 2024",
            description: "Physics-based simulation with real-time kinematics, optimized to achieve landing trajectory within 5% error margin.",
            skills: ["MATLAB", "Physics Simulation", "GUI"]
        }
    },
    
    awards: [
        "RIT Founders International Scholarship (July 2025)",
        "Academic Year Academic Distinction - U of Arizona (May 2024)",
        "Dean's List with Distinction - U of Arizona (May 2024)",
        "Global Wildcat Award - U of Arizona (Aug 2023)"
    ],
    
    story: "Grew up in a farming village in India, where engineering journey began with taking apart old toys and rebuilding them using motors and scrap materials. That childhood curiosity evolved into expertise in CAD, FEA, and CFD."
};

// Smart keyword extraction and matching
function extractKeywords(message) {
    const msg = message.toLowerCase();
    const keywords = {
        greetings: /\b(hi|hello|hey|greetings|good morning|good afternoon|sup|what's up)\b/,
        projects: /\b(project|work|portfolio|built|made|created|designed)\b/,
        skills: /\b(skill|tool|software|know|proficient|expertise|capable)\b/,
        experience: /\b(experience|work|job|intern|position|role|company)\b/,
        education: /\b(education|school|university|college|degree|gpa|grade|student|rit|rochester)\b/,
        contact: /\b(contact|email|phone|reach|call|message|linkedin)\b/,
        background: /\b(background|story|from|grew up|india|childhood|journey)\b/,
        awards: /\b(award|achievement|scholarship|honor|recognition|dean)\b/,
        specific_skill: /\b(solidworks|matlab|python|cad|fea|cfd|ansys|labview)\b/,
        mks: /\b(mks|semiconductor|internship|heat sink)\b/,
        specific_project: /\b(silver|connector|catapult|hvac|lunar|lander|epitrochoid)\b/,
        hiring: /\b(hire|hiring|job|looking for|seeking|available|opportunity|co-op)\b/,
        coop: /\b(co-op|coop|internship|intern|summer|spring)\b/,
        why: /\b(why|reason|motivation|inspire)\b/,
        how: /\b(how|process|method|approach)\b/,
        what: /\b(what|which|describe|explain)\b/,
        when: /\b(when|date|time|period|duration)\b/,
        where: /\b(where|location|place)\b/
    };
    
    const matched = [];
    for (const [key, pattern] of Object.entries(keywords)) {
        if (pattern.test(msg)) matched.push(key);
    }
    return matched;
}

// Smart response generator
function getBotResponse(userMessage) {
    const msg = userMessage.toLowerCase();
    const keywords = extractKeywords(msg);
    
    // Greetings
    if (keywords.includes('greetings')) {
        const greetings = [
            "Hello! ðŸ‘‹ I'm Dhruv's AI assistant. I can tell you about his projects, skills, experience, and background. What would you like to know?",
            "Hi there! I'm here to help you learn about Dhruv's engineering work. Ask me anything!",
            "Hey! Great to meet you. I can answer questions about Dhruv's mechanical engineering projects and expertise. What interests you?"
        ];
        return greetings[Math.floor(Math.random() * greetings.length)];
    }
    
    // Specific project queries
    if (msg.includes('silver') || msg.includes('connector')) {
        return `**${portfolioData.projects["silver connector"].name}** (${portfolioData.projects["silver connector"].date})

${portfolioData.projects["silver connector"].description}

This project demonstrated expertise in: ${portfolioData.projects["silver connector"].skills.join(", ")}

Would you like to know about the FEA analysis or the 3D printing process?`;
    }
    
    if (msg.includes('heat') || msg.includes('mks') || msg.includes('semiconductor')) {
        return `**${portfolioData.projects["heat sink"].name}** at MKS Instruments

${portfolioData.projects["heat sink"].description}

This was done during Dhruv's internship at MKS from Aug-Dec 2025, supporting new product development for LAM Research.

Note: Detailed results are confidential due to NDA.

Want to know about other projects or his work at MKS?`;
    }
    
    if (msg.includes('hvac') || msg.includes('flow')) {
        return `**${portfolioData.projects["hvac"].name}**

${portfolioData.projects["hvac"].description}

Key innovation: Used portable ultrasonic flow meters instead of expensive fixed installations, saving significant costs.

Skills applied: ${portfolioData.projects["hvac"].skills.join(", ")}

Interested in the technical details or Bernoulli's Principle application?`;
    }
    
    if (msg.includes('catapult')) {
        return `**${portfolioData.projects["catapult"].name}**

${portfolioData.projects["catapult"].description}

Impressive results:
â€¢ Launch distance: 320 inches (hit the wall!)
â€¢ Strength/weight ratio: 626
â€¢ 2 design iterations with 10-inch improvement

This project showcased advanced FEA skills and design optimization.

Want to know about the testing process or design methodology?`;
    }
    
    if (msg.includes('matlab') || msg.includes('lunar') || msg.includes('lander')) {
        return `**${portfolioData.projects["matlab"].name}** (${portfolioData.projects["matlab"].date})

${portfolioData.projects["matlab"].description}

Features:
â€¢ Complete physics simulation (gravity, thrust, fuel consumption)
â€¢ Interactive GUI with real-time controls
â€¢ Achieved 5% error margin in trajectory accuracy

This demonstrates strong programming and physics modeling skills!

Curious about the physics equations or game mechanics?`;
    }
    
    // Skills queries
    if (keywords.includes('skills') || keywords.includes('specific_skill')) {
        if (msg.includes('solidworks') || msg.includes('cad')) {
            return `**CAD & Design Skills:**

Dhruv is highly proficient in:
â€¢ **SolidWorks** (Advanced) - Part modeling, assemblies, drawings, Flow Simulation
â€¢ **CATIA v5** - Surface modeling, aerospace applications
â€¢ **Ansys** - FEA and structural analysis
â€¢ **AutoCAD** - Technical drawings and 2D design

He's used SolidWorks for the Silver Connector reverse engineering, heat sink CFD analysis, and multiple design projects.

Want to see examples of his CAD work?`;
        }
        
        if (msg.includes('programming') || msg.includes('matlab') || msg.includes('python')) {
            return `**Programming & Analysis Skills:**

â€¢ **MATLAB** (Advanced) - Simulations, data analysis, GUI development
â€¢ **Python** - Scripting, automation, data processing
â€¢ **LabVIEW** - Instrumentation and data acquisition
â€¢ **C++** - Basic programming for engineering applications

He built a complete Lunar Lander simulation in MATLAB and uses Python for engineering calculations.

Interested in any specific programming project?`;
        }
        
        return `**Dhruv's Technical Skill Set:**

**CAD & Design:**
${portfolioData.skills.cad.join(", ")}

**Analysis Tools:**
${portfolioData.skills.analysis.join(", ")}

**Programming:**
${portfolioData.skills.programming.join(", ")}

**Methodologies:**
${portfolioData.skills.methodologies.join(", ")}

Which area would you like to explore in depth?`;
    }
    
    // Projects overview
    if (keywords.includes('projects')) {
        return `**Dhruv's Project Portfolio** (11 projects total):

ðŸ”§ **Featured Engineering Projects:**
â€¢ Silver Armored Connector (Reverse Engineering + FEA)
â€¢ Pulsed DC Heat Sink (MKS Semiconductor)
â€¢ HVAC Loop Flow Analysis (Bernoulli's Principle)
â€¢ 3D-Printed Catapult (320-inch launch!)
â€¢ MATLAB Lunar Lander Simulation

ðŸ“ **CAD & Modeling:**
â€¢ SolidWorks Portfolio (Car, Battery, UGV)
â€¢ Epitrochoid Mathematical Analysis

ðŸ”¬ **Lab & Instrumentation:**
â€¢ Accelerometer & Strain Gauge
â€¢ Thermocouple VI (LabVIEW)
â€¢ Pressure Sensor VI
â€¢ Mechanical Encoder LED

Which project catches your interest? Just ask about it!`;
    }
    
    // Experience queries
    if (keywords.includes('experience') || keywords.includes('mks')) {
        return `**Professional Experience:**

**1. Mechanical Engineering Intern** - MKS Instruments Inc.
   ðŸ“… Aug 2025 - Dec 2025
   â€¢ SolidWorks Flow Simulation for pulsed DC heat sinks
   â€¢ CFD validation through comprehensive lab testing
   â€¢ Pressure drop analysis for semiconductor fab equipment
   â€¢ Supporting LAM Research product development

**2. IT Support Assistant** - RIT
   ðŸ“… Aug 2024 - July 2025
   â€¢ Technical support and troubleshooting

**3. Apple Certified Technician** - University of Arizona
   ðŸ“… Aug 2023 - May 2024
   â€¢ Hardware diagnostics and repair

Want details about any specific role?`;
    }
    
    // Education queries
    if (keywords.includes('education')) {
        if (msg.includes('gpa') || msg.includes('grade')) {
            return `**Academic Performance:**

ðŸ“š **Current:** Rochester Institute of Technology
   GPA: **3.30** | Mechanical Engineering
   Expected Graduation: December 2027

ðŸ“š **Previous:** University of Arizona
   GPA: **4.00** (Perfect!) | Aerospace Engineering
   Period: Aug 2023 - May 2024

**Academic Honors:**
${portfolioData.awards.map(a => `â€¢ ${a}`).join('\n')}

That 4.0 GPA at U of Arizona speaks volumes! ðŸŒŸ`;
        }
        
        return `**Education:**

ðŸŽ“ **${portfolioData.education.current.degree}**
   ${portfolioData.education.current.school}
   GPA: ${portfolioData.education.current.gpa} | Graduating ${portfolioData.education.current.graduation}

ðŸŽ“ **${portfolioData.education.previous.degree}**
   ${portfolioData.education.previous.school}
   GPA: ${portfolioData.education.previous.gpa} (Perfect 4.0!)
   ${portfolioData.education.previous.period}

Transferred to RIT to pursue Mechanical Engineering with focus on design and analysis.

Want to know about coursework or academic achievements?`;
    }
    
    // Contact information
    if (keywords.includes('contact')) {
        return `**Contact Dhruv:**

ðŸ“§ Email: ${portfolioData.email}
ðŸ“± Phone: ${portfolioData.phone}
ðŸ’¼ LinkedIn: ${portfolioData.linkedin}
ðŸ“ Location: ${portfolioData.location}

He's actively seeking spring/summer 2026 co-op/internship opportunities in semiconductors, automotive, or aerospace!

Feel free to reach out directly.`;
    }
    
    // Background/story
    if (keywords.includes('background')) {
        return `**Dhruv's Journey:**

${portfolioData.story}

From rural India to cutting-edge semiconductor engineering at MKS - his journey shows remarkable growth and passion for mechanical engineering.

**Highlights:**
â€¢ Started with toy motors and scrap materials
â€¢ Achieved 4.0 GPA at University of Arizona
â€¢ Now working on semiconductor fab equipment
â€¢ Expertise in CAD, FEA, CFD across multiple industries

It's an inspiring story of curiosity turning into expertise! ðŸš€

Want to know more about his work or projects?`;
    }
    
    // Awards and achievements
    if (keywords.includes('awards')) {
        return `**Awards & Recognition:**

${portfolioData.awards.map((a, i) => `${i + 1}. ${a}`).join('\n')}

**Academic Excellence:**
â€¢ Perfect 4.0 GPA at University of Arizona
â€¢ Dean's List with Distinction
â€¢ International scholarship recipient

These achievements demonstrate consistent academic excellence and strong work ethic!

Curious about his education or projects?`;
    }
    
    // Job seeking / hiring
    if (keywords.includes('hiring') || keywords.includes('coop')) {
        return `**Yes! Dhruv is seeking opportunities:**

ðŸŽ¯ **Looking for:** Spring/Summer 2026 Co-op/Internship
ðŸ­ **Industries:** Semiconductors, Automotive, Aerospace
ðŸ› ï¸ **Expertise:** CAD, FEA, CFD, Six Sigma, Design Optimization

**What he brings:**
â€¢ Real semiconductor industry experience (MKS Instruments)
â€¢ Strong CAD and simulation skills (SolidWorks, FEA, CFD)
â€¢ Proven track record of design optimization
â€¢ Perfect 4.0 GPA achievement
â€¢ Hands-on lab testing and validation experience

ðŸ“§ Contact: ${portfolioData.email}
ðŸ“± Phone: ${portfolioData.phone}

Ready to contribute to your engineering team!`;
    }
    
    // Question words - provide helpful guidance
    if (keywords.includes('how')) {
        return `Great question! I can tell you **HOW** Dhruv:

â€¢ Approaches engineering problems (methodology)
â€¢ Uses FEA and CFD for design validation
â€¢ Optimized the catapult design (achieved 320-inch launch)
â€¢ Validated CFD simulations through lab testing
â€¢ Applied Bernoulli's Principle to solve HVAC issues

What specific process interests you?`;
    }
    
    if (keywords.includes('why')) {
        return `Asking **WHY** is great! I can explain:

â€¢ Why Dhruv chose mechanical engineering (childhood curiosity with toys)
â€¢ Why he transferred from Aerospace to Mechanical Engineering
â€¢ Why he's passionate about CAD and simulation
â€¢ Why his projects focus on optimization and testing

What would you like to understand better?`;
    }
    
    if (keywords.includes('what')) {
        return `I can tell you **WHAT:**

â€¢ Projects Dhruv has worked on (11 total!)
â€¢ Skills and tools he's mastered
â€¢ Companies he's worked for (MKS, RIT, U of Arizona)
â€¢ Achievements and awards he's earned
â€¢ Industries he's interested in

What specific topic interests you?`;
    }
    
    // Thank you
    if (msg.match(/\b(thank|thanks|appreciate)\b/)) {
        return `You're very welcome! ðŸ˜Š 

Is there anything else you'd like to know about Dhruv's work, projects, or experience? I'm here to help!`;
    }
    
    // Fallback - intelligent suggestion based on message length and context
    if (userMessage.length < 15) {
        return `I'd love to help! Could you ask a more specific question? For example:

â€¢ "Tell me about the catapult project"
â€¢ "What CAD software does Dhruv know?"
â€¢ "What's his GPA?"
â€¢ "Is he looking for internships?"
â€¢ "Describe his MKS experience"

What would you like to know?`;
    }
    
    // Default intelligent response
    return `That's an interesting question! While I don't have specific information about "${userMessage}", I can help you learn about:

ðŸ“Š **Projects:** Silver Connector, Heat Sink, HVAC Analysis, Catapult, MATLAB Lunar Lander
ðŸ› ï¸ **Skills:** SolidWorks, FEA, CFD, MATLAB, Python
ðŸ’¼ **Experience:** MKS Instruments (Semiconductor), RIT, University of Arizona
ðŸŽ“ **Education:** 3.30 GPA at RIT, 4.00 GPA at U of Arizona
ðŸ† **Awards:** RIT Scholarship, Dean's List, Academic Distinction
ðŸ“§ **Contact:** ${portfolioData.email}

Try asking about any of these topics! For example:
â€¢ "What did Dhruv do at MKS?"
â€¢ "Tell me about his best project"
â€¢ "What are his technical skills?"`;
}

// Export the function for use in your website
// Replace your existing getBotResponse function with this enhanced version
console.log('Enhanced chatbot loaded successfully!');
            // ===== Minimal sendMessage shim to fix missing reference =====
    (function () {
      // Prefer IDs used elsewhere in your file, fallback to common class names
      const inputEl = document.getElementById('chatInput') || document.querySelector('.chat-input');
      const sendBtn = document.getElementById('chatSend') || document.querySelector('.chat-send');
      const messagesEl = document.getElementById('chatMessages') || document.querySelector('.chat-messages');

      if (!inputEl || !sendBtn || !messagesEl) {
        console.warn('chatbot-shim: one of chatInput / chatSend / chatMessages is missing; shim not installed.');
        return;
      }

      // simple escape for user-provided text before inserting to DOM
      function escapeHtml(str) {
        return String(str).replace(/[&<>"']/g, function (m) {
          return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]);
        });
      }

      // Expose sendMessage globally so existing handleKeyPress() (or inline attributes) can call it.
      window.sendMessage = async function sendMessage() {
        // Read value (supports input/textarea.value or contentEditable.innerText)
        let raw = (inputEl.value !== undefined) ? inputEl.value : (inputEl.innerText || '');
        const text = String(raw).trim();
        if (!text) return;

        // Show user message
        addMessage(escapeHtml(text), true);

        // Clear input
        if (inputEl.value !== undefined) inputEl.value = '';
        else inputEl.innerText = '';

        // Prevent double sends
        sendBtn.disabled = true;

        // Show typing UX
        showTypingIndicator();

        try {
          const maybe = getBotResponse(text);
          const reply = (maybe && typeof maybe.then === 'function') ? await maybe : maybe;
          removeTypingIndicator();
          addMessage(String(reply), false);
        } catch (err) {
          console.error('sendMessage error:', err);
          removeTypingIndicator();
          addMessage('Sorry â€” an error occurred while getting a response.');
        } finally {
          sendBtn.disabled = false;
          inputEl.focus();
          messagesEl.scrollTop = messagesEl.scrollHeight;
        }
      };

      // Attach handlers if not already present
      if (!sendBtn._hasSendHandler) {
        sendBtn.addEventListener('click', function (e) {
          e.preventDefault();
          window.sendMessage();
        });
        sendBtn._hasSendHandler = true;
      }

      if (!inputEl._hasEnterHandler) {
        inputEl.addEventListener('keydown', function (e) {
          if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            window.sendMessage();
          }
        });
        inputEl._hasEnterHandler = true;
      }

      // Ensure button won't submit a form accidentally
      try { if (sendBtn.tagName === 'BUTTON') sendBtn.type = 'button'; } catch (e) {}

      console.log('chatbot-shim: sendMessage installed and wired.');
    })();

    // ===== OTHER FUNCTIONS =====
    
    function openChatFromHero() {
        const chatContainer = document.getElementById('chatContainer');
        chatContainer.classList.add('active');
        document.getElementById('chatInput').focus();
    }

    function openModal(modalId) {
        document.getElementById(modalId).classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeModal(modalId) {
        document.getElementById(modalId).classList.remove('active');
        document.body.style.overflow = 'auto';
    }

    function closeModalOnBackdrop(event, modalId) {
        if (event.target.classList.contains('modal')) {
            closeModal(modalId);
        }
    }

    // ===== PAGE LOAD FUNCTIONS =====
    
    // Typing effect
    const fullText = "Junior at Rochester Institute of Technology with expertise in CAD, FEA, CFD, and prototyping. Experienced in developing scalable engineering solutions across automotive, aerospace, and semiconductor industries.";
    
    let charIndex = 0;
    
    function typeWriter() {
        const typingElement = document.querySelector('.typing-text');
        if (!typingElement) return;
        
        if (charIndex < fullText.length) {
            typingElement.textContent = fullText.substring(0, charIndex + 1);
            charIndex++;
            setTimeout(typeWriter, 30);
        } else {
            typingElement.style.borderRight = 'none';
        }
    }
    
    // Mobile menu
    const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
    const navMenu = document.querySelector('.nav-menu');
    const navLinks = document.querySelectorAll('.nav-menu a');
    
    if (mobileMenuToggle) {
        mobileMenuToggle.addEventListener('click', () => {
            mobileMenuToggle.classList.toggle('active');
            navMenu.classList.toggle('active');
        });
    }
    
    if (navLinks) {
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (mobileMenuToggle) mobileMenuToggle.classList.remove('active');
                if (navMenu) navMenu.classList.remove('active');
            });
        });
    }
    
    // Close modal on Escape
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            const activeModal = document.querySelector('.modal.active');
            if (activeModal) {
                activeModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }
    });
    
    // Start typing effect on load
    window.addEventListener('load', () => {
        setTimeout(typeWriter, 500);
    });

    // Project Filtering System
    document.addEventListener('DOMContentLoaded', function() {
        const filterBtns = document.querySelectorAll('.filter-btn');
        const projectCards = document.querySelectorAll('.project-card');
    
        filterBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const filter = this.getAttribute('data-filter');
            
                // Update active button
                filterBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            
                // Filter projects
                projectCards.forEach(card => {
                    const categories = card.getAttribute('data-category');
                
                    if (filter === 'all' || categories.includes(filter)) {
                        card.classList.remove('hidden');
                        card.classList.add('visible');
                    } else {
                        card.classList.remove('visible');
                        card.classList.add('hidden');
                    }
                });
            });
        });
    });

/* Robust animated stats counter with IntersectionObserver + scroll fallback */
(function () {
  'use strict';

  function easeOutQuad(t) { return t * (2 - t); }

  function formatNumber(value, decimals) {
    if (decimals > 0) return Number(value).toFixed(decimals);
    return new Intl.NumberFormat().format(Math.round(value));
  }

  function animateCounterTo(el, startVal, targetVal, duration = 2000, decimals = 0) {
    const startTime = performance.now();
    function frame(now) {
      const elapsed = now - startTime;
      const progress = Math.min(1, elapsed / duration);
      const eased = easeOutQuad(progress);
      const current = startVal + (targetVal - startVal) * eased;
      el.textContent = formatNumber(current, decimals);
      if (progress < 1) {
        requestAnimationFrame(frame);
      } else {
        el.textContent = formatNumber(targetVal, decimals);
      }
    }
    requestAnimationFrame(frame);
  }

  function startCounter(item) {
    if (!item || item.dataset.__animated === 'true') return;
    const numberEl = item.querySelector('.stat-number');
    if (!numberEl) return;
    const rawTarget = item.getAttribute('data-target') || numberEl.textContent || '0';
    const decimalsAttr = item.getAttribute('data-decimals');
    const decimals = decimalsAttr ? parseInt(decimalsAttr, 10) : (rawTarget.includes('.') ? 1 : 0);
    const target = parseFloat(String(rawTarget).replace(/,/g, '')) || 0;
    const start = Number(item.getAttribute('data-start')) || 0;
    const duration = Number(item.getAttribute('data-duration')) || 2000;

    item.dataset.__animated = 'true';
    item.classList.add('animated');
    animateCounterTo(numberEl, start, target, duration, decimals);
  }

  const observerOptions = {
    threshold: 0.4,
    rootMargin: '0px 0px -80px 0px'
  };

  function initObserver(items) {
    if ('IntersectionObserver' in window) {
      const obs = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            startCounter(entry.target);
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);

      items.forEach(it => obs.observe(it));
      return obs;
    }

    // Fallback for browsers without IntersectionObserver
    const onScroll = () => {
      items.forEach(it => {
        if (it.dataset.__animated === 'true') return;
        const rect = it.getBoundingClientRect();
        if (rect.top < window.innerHeight * 0.9 && rect.bottom > 0) {
          startCounter(it);
        }
      });
    };
    window.addEventListener('scroll', onScroll, { passive: true });
    onScroll();
    return null;
  }

  document.addEventListener('DOMContentLoaded', () => {
    const statItems = document.querySelectorAll('.stat-item');
    if (!statItems || statItems.length === 0) {
      console.warn('No .stat-item elements found for stats counter.');
      return;
    }

    const validItems = Array.from(statItems).filter(it => {
      const num = it.querySelector('.stat-number');
      const raw = it.getAttribute('data-target') || (num && num.textContent);
      return num && raw !== null;
    });

    if (validItems.length === 0) {
      console.warn('No valid stats items (missing .stat-number or data-target).');
      return;
    }

    initObserver(validItems);
  });
})();
    console.log('All functions loaded successfully!');
</script>

</body>
</html>
